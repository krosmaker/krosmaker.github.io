(window.webpackJsonp=window.webpackJsonp||[]).push([[43,16,17,21,33,41,45],{373:function(t,e,r){"use strict";r.r(e);r(60);var n=r(21),o=r(22),c=r(32),l=r(27),f=r(18),d=r(11),h=(r(12),r(1)),v=r(166),y=r(131),m=r(132),O=r(218);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var R=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},x=function(t){Object(c.a)(r,t);var e=j(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"cardType",get:function(){return this.$store.state.card.type}},{key:"isFighter",get:function(){return this.cardType===m.CardType.FIGHTER}},{key:"isFavor",get:function(){return this.cardType===m.CardType.FAVOR}},{key:"isChallenge",get:function(){return this.cardType===m.CardType.CHALLENGE}},{key:"fighterState",get:function(){var t=this.$store.state.fighter;return t.twoSided&&this.isFlipped?this.$store.state.reverse:t}},{key:"isTwoSided",get:function(){return this.$store.state.fighter.twoSided}},{key:"isKrosmaster",get:function(){return this.fighterState.type!==y.b.MINION}},{key:"isMinion",get:function(){return this.fighterState.type===y.b.MINION}},{key:"isFlipped",get:function(){return this.$store.state.display.isFlipped},set:function(t){this.isFighter&&this.isTwoSided&&this.$store.commit("sidebar/reset"),this.$store.commit("display/setFlipped",t)}},{key:"isRegularSize",get:function(){return this.isFighter&&this.isKrosmaster||this.isChallenge}},{key:"isSmallSize",get:function(){return this.isFighter&&this.isMinion||this.isFavor}},{key:"isRounded",get:function(){var t=this.$store.state.display;return t.mode===O.DisplayMode.PLAY&&t.roundedCorners}}]),r}(h.a);x=R([v.a],x),e.default=x},374:function(t,e,r){"use strict";r.r(e);r(60);var n=r(21),o=r(22),c=r(32),l=r(27),f=r(18),d=r(11),h=(r(12),r(166)),v=r(101);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},O=function(t){Object(c.a)(r,t);var e=y(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"setDirty",value:function(){this.$store.commit("export/setDirty",!0)}},{key:"commitToFighterStore",value:function(t,e){var r=this.$store.state.fighter.twoSided&&this.isFlipped?"reverse":"fighter";this.$store.commit("".concat(r,"/").concat(t),e)}},{key:"commitToAllFighterStores",value:function(t,e){this.$store.commit("fighter/".concat(t),e),this.$store.commit("reverse/".concat(t),e)}},{key:"updateCroppers",value:function(){v.a.$emit("card-load")}},{key:"truncate",value:function(text,t){return text.length>t?text.substring(0,t)+"â€¦":text}}]),r}(r(373).default);O=m([h.a],O),e.default=O},375:function(t,e,r){"use strict";r.r(e);r(60);var n=r(22),o=r(21),c=r(32),l=r(27),f=r(18),d=r(11),h=(r(12),r(1)),v=r(166);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},O=function(t){Object(c.a)(r,t);var e=y(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(n.a)(r)}(h.a);m([Object(v.b)({type:String,required:!0})],O.prototype,"title",void 0);var j=O=m([v.a],O),R=r(73),component=Object(R.a)(j,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("h2",{staticClass:"pa-3"},[t._v(t._s(t.$t(t.title)))])}),[],!1,null,null,null);e.default=component.exports},391:function(t,e,r){var content=r(457);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(14).default)("53b96e76",content,!0,{sourceMap:!1})},397:function(t,e,r){"use strict";r.r(e);var n=r(158),o=r(348),c=(r(60),r(21)),l=r(22),f=r(32),d=r(27),h=r(18),v=r(11),y=(r(12),r(1)),m=r(166);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var j=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},R=function(t){Object(f.a)(r,t);var e=O(r);function r(){var t;return Object(c.a)(this,r),(t=e.apply(this,arguments)).isDragged=!1,t}return Object(l.a)(r,[{key:"fileInput",get:function(){return this.$refs.fileInput}},{key:"onClick",value:function(){var t=this.fileInput;t.value="",t.click()}},{key:"onDrag",value:function(t){var e;this.isDragged=!1;var r=null===(e=t.dataTransfer)||void 0===e?void 0:e.files;this.extractImage(r)}},{key:"onUpload",value:function(t){var e,r,n=t,o=(null===(e=n.target)||void 0===e?void 0:e.files)||(null===(r=null==n?void 0:n.dataTransfer)||void 0===r?void 0:r.files);this.extractImage(o)}},{key:"extractImage",value:function(t){null!=t&&t.length>0&&this.uploadImage(t[0])}},{key:"uploadImage",value:function(t){new Image;var e=new FileReader,component=this;e.onload=function(t){var e,r=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.result;component.$emit("upload",r)},e.readAsDataURL(t)}}]),r}(y.a);j([Object(m.b)({type:String,required:!0})],R.prototype,"prompt",void 0);var x=R=j([m.a],R),C=(r(456),r(73)),component=Object(C.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n.a,{staticClass:"upload-container gray text-center rounded-lg",class:{"is-dragged":t.isDragged},on:{click:t.onClick,drop:function(e){return e.preventDefault(),t.onDrag.apply(null,arguments)},dragover:function(t){t.preventDefault()},dragenter:function(e){t.isDragged=!0},dragend:function(e){t.isDragged=!1},dragleave:function(e){t.isDragged=!1}}},[e(o.a,{attrs:{small:""}},[t._v("mdi-upload")]),t._v("\n  "+t._s(t.prompt)+"\n  "),e("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*"},on:{change:t.onUpload}})],1)}),[],!1,null,"5a686b3e",null);e.default=component.exports},398:function(t,e,r){"use strict";r.r(e);r(60);var n=r(22),o=r(21),c=r(32),l=r(27),f=r(18),d=r(11),h=(r(12),r(166));function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var y=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},m=function(t){Object(c.a)(r,t);var e=v(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(n.a)(r)}(r(374).default),O=m=y([h.a],m),j=r(73),component=Object(j.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.isFighter?e("fragment",[t._t("default")],2):e("div",{staticClass:"d-flex align-center justify-center pa-4 mt-4 mx-auto"},[t._v("\n  "+t._s(t.$t("card.edit.editorUnavailable"))+"\n")])}),[],!1,null,null,null);e.default=component.exports},406:function(t,e,r){var content=r(488);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(14).default)("20763982",content,!0,{sourceMap:!1})},456:function(t,e,r){"use strict";r(391)},457:function(t,e,r){var n=r(13)(!1);n.push([t.i,".upload-container[data-v-5a686b3e]{border:1px dashed #757575;padding:1.5em 1em}.upload-container input[data-v-5a686b3e]{display:none}.is-dragged[data-v-5a686b3e]{background-color:hsla(0,0%,46.7%,.33333)}",""]),t.exports=n},458:function(t,e,r){"use strict";r.r(e);r(60);var n=r(21),o=r(22),c=r(32),l=r(27),f=r(18),d=r(11),h=(r(12),r(44),r(166)),v=r(170),y=r(374),m=r(82),O=r(101);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var R=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},x=function(t){Object(c.a)(r,t);var e=j(r);function r(){var t;return Object(n.a)(this,r),(t=e.apply(this,arguments)).figurineStore="figurine",t.invalidate=!0,t.replaceImage=!0,t.reloaded=!0,t.sliderIconColor="#777777",t.updateCroppedImage=Object(v.debounce)((function(e){if(t.reloaded)t.reloaded=!1;else{var image=e.getCroppedCanvas().toDataURL("image/png");t.setDirty(),t.commit("crop",image),t.commit("setCropperData",e)}}),150),t}return Object(o.a)(r,[{key:"figurine",get:function(){return this.$store.state[this.figurineStore]}},{key:"commit",value:function(t,e){this.$store.commit("".concat(this.figurineStore,"/").concat(t),e)}},{key:"activeTab",get:function(){return this.$store.state.sidebar.activeTab}},{key:"height",get:function(){return this.figurine.height},set:function(t){this.setDirty(),this.commit("setHeight",t)}},{key:"offsetX",get:function(){return this.figurine.offsetX},set:function(t){this.setDirty(),this.commit("setOffsetX",t)}},{key:"offsetY",get:function(){return this.figurine.offsetY},set:function(t){this.setDirty(),this.commit("setOffsetY",t)}},{key:"useCropped",get:function(){return this.figurine.useCropped},set:function(t){this.setDirty(),this.commit("setCropping",t),this.restoreCropperSettings()}},{key:"mounted",value:function(){var t=this;this.restoreCropperSettings(),O.a.$on("card-load",(function(){t.invalidate=!0,t.replaceImage=!0,t.reloaded=!0}))}},{key:"restoreCropperSettings",value:function(){var t=this.figurine;if(t.useCropped){if(this.replaceImage)return this.replaceImage=!1,void this.cropper.replace(t.original);if(this.invalidate){this.invalidate=!1;var e=t.cropper;null!=e&&(this.cropper.setCanvasData(e.canvasData),this.cropper.setData(e.croppingData))}}}},{key:"cropper",get:function(){return this.$refs.cropper}},{key:"aspectRatio",get:function(){return this.isKrosmaster?m.f/m.e:m.n/m.m}},{key:"onUpload",value:function(image){this.useCropped=!0,this.setDirty(),this.commit("upload",image),this.cropper.replace(image),this.$emit("focus"),this.$store.commit("notification/add",{message:"card.edit.notification.figurineUpload"})}},{key:"onCrop",value:function(){if(this.invalidate){if(this.restoreCropperSettings(),null!=this.figurine.cropper)return}else if(!this.useCropped)return;this.updateCroppedImage(this.cropper)}}]),r}(y.default),C=x=R([h.a],x),k=(r(487),r(73)),component=Object(k.a)(C,undefined,undefined,!1,null,null,null);e.default=component.exports},487:function(t,e,r){"use strict";r(406)},488:function(t,e,r){var n=r(13)(!1);n.push([t.i,".cropper-bg{background-image:none!important}.cropper-modal{background-color:transparent!important;opacity:1!important}.fixed-label-slider label{width:32px;text-align:right}",""]),t.exports=n},489:function(t,e,r){var content=r(577);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(14).default)("41a6d340",content,!0,{sourceMap:!1})},576:function(t,e,r){"use strict";r(489)},577:function(t,e,r){var n=r(13)(!1);n.push([t.i,"h3[data-v-c1460474]{padding-top:1.5em;padding-left:.8em;padding-bottom:1.5em}.cropper-container[data-v-c1460474]{background-color:#121212;border-radius:10px}.cropper-container .cropper[data-v-c1460474]{max-width:370px;min-height:100px;max-height:250px}.crop-switch[data-v-c1460474]{margin-top:-1em;padding:0}",""]),t.exports=n},619:function(t,e,r){"use strict";r.r(e);var n=r(129),o=r(694),c=r(367),l=r(130),f=r(348),d=r(693),h=r(422),v=r(572),y=(r(60),r(22)),m=r(21),O=r(32),j=r(27),R=r(18),x=r(11),C=(r(12),r(166)),k=r(458),_=r(219);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(R.a)(t);if(e){var o=Object(R.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(j.a)(this,r)}}var w=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(x.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},F=function(t){Object(O.a)(r,t);var e=D(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(y.a)(r)}(k.default),I=F=w([Object(C.a)({watch:{activeTab:function(t,e){t===_.TabId.FIGURINE&&this.restoreCropperSettings()}}})],F),$=(r(576),r(73)),component=Object($.a)(I,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n.b,[e("FormHeader",{attrs:{title:"card.edit.figurine"}}),t._v(" "),e("FighterOnlyForm",[e("DropFileUpload",{attrs:{prompt:t.$t("card.edit.imageUploadPrompt")},on:{upload:t.onUpload}}),t._v(" "),e("h3",[t._v(t._s(t.$t("card.edit.customize")))]),t._v(" "),e(d.a,[e(o.a,{staticClass:"pa-0",attrs:{cols:"6"}},[e(h.a,{staticClass:"fixed-label-slider mr-2",attrs:{dense:"",min:"645",max:"815"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(f.a,{attrs:{color:t.sliderIconColor}},[t._v("mdi-pan-horizontal")])]},proxy:!0}]),model:{value:t.offsetX,callback:function(e){t.offsetX=e},expression:"offsetX"}})],1),t._v(" "),e(o.a,{staticClass:"pa-0",attrs:{cols:"6"}},[e(h.a,{staticClass:"fixed-label-slider mr-4",attrs:{dense:"",min:"-140",max:"160"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(f.a,{attrs:{color:t.sliderIconColor}},[t._v("mdi-pan-vertical")])]},proxy:!0}]),model:{value:t.offsetY,callback:function(e){t.offsetY=e},expression:"offsetY"}})],1),t._v(" "),e(o.a,{staticClass:"pa-0",attrs:{cols:"12"}},[e(h.a,{staticClass:"fixed-label-slider mr-4",attrs:{dense:"",min:"110",max:"590"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e(f.a,{attrs:{color:t.sliderIconColor}},[t._v("mdi-resize")])]},proxy:!0}]),model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),t._v(" "),e(o.a,{staticClass:"crop-switch",attrs:{cols:"12"}},[e(v.a,{staticClass:"mx-2",attrs:{label:t.$t("card.edit.enableCropping")},model:{value:t.useCropped,callback:function(e){t.useCropped=e},expression:"useCropped"}})],1)],1)],1),t._v(" "),e(l.d,[e(c.a,{directives:[{name:"show",rawName:"v-show",value:t.isFighter&&t.useCropped,expression:"isFighter && useCropped"}],staticClass:"cropper-container"},[e("vue-cropper",{ref:"cropper",staticClass:"cropper",attrs:{dragMode:"move","view-mode":1,responsive:!1,autoCropArea:1},on:{crop:t.onCrop}})],1)],1)],1)}),[],!1,null,"c1460474",null);e.default=component.exports;installComponents(component,{FormHeader:r(375).default,DropFileUpload:r(397).default,FighterOnlyForm:r(398).default})}}]);