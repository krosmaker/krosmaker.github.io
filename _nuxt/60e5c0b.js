(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{332:function(t,e,n){"use strict";var r=n(333);e.a=r.a},359:function(t,e,n){"use strict";var r=new(n(0).a);e.a=r},386:function(t,e,n){"use strict";n(25),n(27),n(20);var r=n(5),o=n(0);e.a=o.a.extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(t){return!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}}},computed:{isMobile:function(){var t=this.$vuetify.breakpoint,e=t.mobile,n=t.width,r=t.name;if(t.mobileBreakpoint===this.mobileBreakpoint)return e;var o=parseInt(this.mobileBreakpoint,10);return!isNaN(o)?n<o:r===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(r.d)("mobile-break-point","mobile-breakpoint",this)}})},389:function(t,e,n){"use strict";var r,o,l;n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return l})),function(t){t.NONE="none",t.AIR="air",t.EARTH="earth",t.FIRE="fire",t.WATER="water"}(r||(r={})),function(t){t.REGULAR="regular",t.SPECIAL="special"}(o||(o={})),function(t){t.NONE="none",t.TURN="turn",t.TARGET="target"}(l||(l={}))},428:function(t,e,n){var content=n(512);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("495095bf",content,!0,{sourceMap:!1})},429:function(t,e,n){var content=n(514);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("57f54412",content,!0,{sourceMap:!1})},509:function(t,e,n){(function(n){var r,o,l;o=[],r=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function e(a,b,t){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){g(e.response,b,t)},e.onerror=function(){console.error("could not download file")},e.send()}function r(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function o(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(t){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,t){var i=l.URL||l.webkitURL,n=document.createElement("a");g=g||b.name||"download",n.download=g,n.rel="noopener","string"==typeof b?(n.href=b,n.origin===location.origin?o(n):r(n.href)?e(b,g,t):o(n,n.target="_blank")):(n.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(n.href)}),4e4),setTimeout((function(){o(n)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,g,n){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(b(t,n),g);else if(r(t))e(t,g,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){o(i)}))}}:function(b,t,n,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return e(b,t,n);var r="application/octet-stream"===b.type,i=/constructor/i.test(l.HTMLElement)||l.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&i||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var a=c.result;a=o?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},c.readAsDataURL(b)}else{var d=l.URL||l.webkitURL,h=d.createObjectURL(b);g?g.location=h:location.href=h,g=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});l.saveAs=g.saveAs=g,t.exports=g},void 0===(l="function"==typeof r?r.apply(e,o):r)||(t.exports=l)}).call(this,n(71))},510:function(t,e,n){"use strict";(function(e){var g=g||{};g.scope={},g.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},g.arrayIterator=function(t){return{next:g.arrayIteratorImpl(t)}},g.ASSUME_ES5=!1,g.ASSUME_NO_NATIVE_MAP=!1,g.ASSUME_NO_NATIVE_SET=!1,g.SIMPLE_FROUND_POLYFILL=!1,g.ISOLATE_POLYFILLS=!1,g.defineProperty=g.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},g.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},g.global=g.getGlobal(this),g.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),g.TRUST_ES6_POLYFILLS=!g.ISOLATE_POLYFILLS||g.IS_SYMBOL_NATIVE,g.polyfills={},g.propertyToPolyfillSymbol={},g.POLYFILL_PREFIX="$jscp$",g.polyfill=function(t,e,n,r){e&&(g.ISOLATE_POLYFILLS?g.polyfillIsolated(t,e,n,r):g.polyfillUnisolated(t,e,n,r))},g.polyfillUnisolated=function(t,e){var n=g.global;t=t.split(".");for(var r=0;r<t.length-1;r++){var a=t[r];a in n||(n[a]={}),n=n[a]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&g.defineProperty(n,t,{configurable:!0,writable:!0,value:e})},g.polyfillIsolated=function(t,e,n){var r=t.split(".");t=1===r.length;var a=r[0];a=!t&&a in g.polyfills?g.polyfills:g.global;for(var s=0;s<r.length-1;s++){var i=r[s];i in a||(a[i]={}),a=a[i]}r=r[r.length-1],null!=(e=e(n=g.IS_SYMBOL_NATIVE&&"es6"===n?a[r]:null))&&(t?g.defineProperty(g.polyfills,r,{configurable:!0,writable:!0,value:e}):e!==n&&(g.propertyToPolyfillSymbol[r]=g.IS_SYMBOL_NATIVE?g.global.Symbol(r):g.POLYFILL_PREFIX+r,r=g.propertyToPolyfillSymbol[r],g.defineProperty(a,r,{configurable:!0,writable:!0,value:e})))},g.initSymbol=function(){},g.polyfill("Symbol",(function(t){function e(t,e){this.$jscomp$symbol$id_=t,g.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.$jscomp$symbol$id_};var n=0;return function t(r){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(r||"")+"_"+n++,r)}}),"es6","es3"),g.initSymbolIterator=function(){},g.polyfill("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=g.global[e[n]];"function"==typeof r&&"function"!=typeof r.prototype[t]&&g.defineProperty(r.prototype,t,{configurable:!0,writable:!0,value:function(){return g.iteratorPrototype(g.arrayIteratorImpl(this))}})}return t}),"es6","es3"),g.initSymbolAsyncIterator=function(){},g.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},g.iteratorFromArray=function(t,e){t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var a=n++;return{value:e(a,t[a]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},g.polyfill("Array.prototype.keys",(function(t){return t||function(){return g.iteratorFromArray(this,(function(t){return t}))}}),"es6","es3"),g.polyfill("Array.prototype.values",(function(t){return t||function(){return g.iteratorFromArray(this,(function(t,e){return e}))}}),"es8","es3"),g.owns=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},g.assign=g.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)g.owns(r,a)&&(t[a]=r[a])}return t},g.polyfill("Object.assign",(function(t){return t||g.assign}),"es6","es3"),g.checkEs6ConformanceViaProxy=function(){try{var t={},e=Object.create(new g.global.Proxy(t,{get:function(n,r,a){return n==t&&"q"==r&&a==e}}));return!0===e.q}catch(t){return!1}},g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,g.ES6_CONFORMANCE=g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&g.checkEs6ConformanceViaProxy(),g.makeIterator=function(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):g.arrayIterator(t)},g.polyfill("WeakMap",(function(t){function e(t){if(this.id_=(u+=Math.random()+1).toString(),t){t=g.makeIterator(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(){}function r(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function a(t){if(!g.owns(t,i)){var e=new n;g.defineProperty(t,i,{value:e})}}function s(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(a(t),e(t))})}if(g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&g.ES6_CONFORMANCE)return t}else if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var i="$jscomp_hidden_"+Math.random();s("freeze"),s("preventExtensions"),s("seal");var u=0;return e.prototype.set=function(t,e){if(!r(t))throw Error("Invalid WeakMap key");if(a(t),!g.owns(t,i))throw Error("WeakMap key fail: "+t);return t[i][this.id_]=e,this},e.prototype.get=function(t){return r(t)&&g.owns(t,i)?t[i][this.id_]:void 0},e.prototype.has=function(t){return r(t)&&g.owns(t,i)&&g.owns(t[i],this.id_)},e.prototype.delete=function(t){return!!(r(t)&&g.owns(t,i)&&g.owns(t[i],this.id_))&&delete t[i][this.id_]},e}),"es6","es3"),g.MapEntry=function(){},g.polyfill("Map",(function(t){function e(){var t={};return t.previous=t.next=t.head=t}function n(t,e){var n=t.head_;return g.iteratorPrototype((function(){if(n){for(;n.head!=t.head_;)n=n.previous;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?s.has(e)?n=s.get(e):(n=""+ ++i,s.set(e,n)):n="p_"+e;var r=t.data_[n];if(r&&g.owns(t.data_,n))for(t=0;t<r.length;t++){var a=r[t];if(e!=e&&a.key!=a.key||e===a.key)return{id:n,list:r,index:t,entry:a}}return{id:n,list:r,index:-1,entry:void 0}}function a(t){if(this.data_={},this.head_=e(),this.size=0,t){t=g.makeIterator(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(g.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(t&&g.ES6_CONFORMANCE)return t}else if(function(){if(g.ASSUME_NO_NATIVE_MAP||!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(g.makeIterator([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),a=r.next();return!a.done&&a.value[0]==e&&"s"==a.value[1]&&!((a=r.next()).done||4!=a.value[0].x||"t"!=a.value[1]||!r.next().done)}catch(t){return!1}}())return t;var s=new WeakMap;a.prototype.set=function(t,e){var n=r(this,t=0===t?0:t);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=e:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:t,value:e},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},a.prototype.delete=function(t){return!(!(t=r(this,t)).entry||!t.list||(t.list.splice(t.index,1),t.list.length||delete this.data_[t.id],t.entry.previous.next=t.entry.next,t.entry.next.previous=t.entry.previous,t.entry.head=null,this.size--,0))},a.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=e(),this.size=0},a.prototype.has=function(t){return!!r(this,t).entry},a.prototype.get=function(t){return(t=r(this,t).entry)&&t.value},a.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},a.prototype.keys=function(){return n(this,(function(t){return t.key}))},a.prototype.values=function(){return n(this,(function(t){return t.value}))},a.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},a.prototype[Symbol.iterator]=a.prototype.entries;var i=0;return a}),"es6","es3"),g.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},g.polyfill("String.prototype.endsWith",(function(t){return t||function(t,e){var n=g.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var r=t.length;0<r&&0<e;)if(n[--e]!=t[--r])return!1;return 0>=r}}),"es6","es3"),g.polyfill("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}}),"es6","es3"),g.polyfill("String.prototype.startsWith",(function(t){return t||function(t,e){var n=g.checkStringArgs(this,t,"startsWith");t+="";var r=n.length,a=t.length;e=Math.max(0,Math.min(0|e,n.length));for(var s=0;s<a&&e<r;)if(n[e++]!=t[s++])return!1;return s>=a}}),"es6","es3");t.exports=function(){function t(t){if(this.opts={},this.defaults={},this.messages=Object.assign({},$),this.rules={any:O,array:w,boolean:x,class:_,custom:b,currency:y,date:m,email:v,enum:g,equal:f,forbidden:h,function:d,multi:p,number:c,object:l,objectID:o,string:u,tuple:i,url:s,uuid:a,mac:r,luhn:n},this.aliases={},this.cache=new Map,t){if(k(this.opts,t),t.defaults&&k(this.defaults,t.defaults),t.messages)for(var e in t.messages)this.addMessage(e,t.messages[e]);if(t.aliases)for(var S in t.aliases)this.alias(S,t.aliases[S]);if(t.customRules)for(var E in t.customRules)this.add(E,t.customRules[E]);if(t.plugins){if(t=t.plugins,!Array.isArray(t))throw Error("Plugins type must be array");t.forEach(this.plugin.bind(this))}}}function e(t){return j||(j=E(),P={parser:"babel",useTabs:!1,printWidth:120,trailingComma:"none",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},I=E(),D={language:"js",theme:I.fromJson({keyword:["white","bold"],built_in:"magenta",literal:"cyan",number:"magenta",regexp:"red",string:["yellow","bold"],symbol:"plain",class:"blue",attr:"plain",function:["white","bold"],title:"plain",params:"green",comment:"grey"})}),t=j.format(t,P),I.highlight(t,D)}function n(t){return t=t.messages,{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+'\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (typeof value !== "string")\n\t\t\t\tvalue = String(value);\n\n\t\t\tval = value.replace(/\\D+/g, "");\n\n\t\t\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\t\t\tvar len = val ? val.length : 0,\n\t\t\t\tbit = 1,\n\t\t\t\tsum = 0;\n\t\t\twhile (len--) {\n\t\t\t\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\n\t\t\t}\n\n\t\t\tif (!(sum % 10 === 0 && sum > 0)) {\n\t\t\t\t'+this.makeError({type:"luhn",actual:"value",messages:t})+"\n\t\t\t}\n\n\t\t\treturn value;\n\t\t"}}function r(t){return t=t.messages,{source:'\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar v = value.toLowerCase();\n\t\t\tif (!"+W.toString()+".test(v)) {\n\t\t\t\t"+this.makeError({type:"mac",actual:"value",messages:t})+"\n\t\t\t}\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function a(t){var e=t.schema;t=t.messages;var n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar val = value.toLowerCase();\n\t\tif (!"+V.toString()+".test(val)) {\n\t\t\t"+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tconst version = val.charAt(14) | 0;\n\t"),7>parseInt(e.version)&&n.push("\n\t\t\tif ("+e.version+" !== version) {\n\t\t\t\t"+this.makeError({type:"uuidVersion",expected:e.version,actual:"version",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push('\n\t\tswitch (version) {\n\t\tcase 0:\n\t\tcase 1:\n\t\tcase 2:\n\t\tcase 6:\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\t\tif (["8", "9", "a", "b"].indexOf(val.charAt(19)) === -1) {\n\t\t\t\t'+this.makeError({type:"uuid",actual:"value",messages:t})+"\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function s(t){var e=t.schema;t=t.messages;var n=[];return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t"),e.empty?n.push("\n\t\t\tif (value.length === 0) return value;\n\t\t"):n.push("\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"urlEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+L.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"url",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function i(t,e,n){var r=t.schema,a=t.messages;if(t=[],null!=r.items){if(!Array.isArray(r.items))throw Error("Invalid '"+r.type+"' schema. The 'items' field must be an array.");if(0===r.items.length)throw Error("Invalid '"+r.type+"' schema. The 'items' field must not be an empty array.")}if(t.push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"tuple",actual:"value",messages:a})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===r.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"tupleEmpty",actual:"value",messages:a})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),null!=r.items)for(t.push("\n\t\t\tif ("+r.empty+" !== false && len === 0) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (len !== "+r.items.length+") {\n\t\t\t\t"+this.makeError({type:"tupleLength",expected:r.items.length,actual:"len",messages:a})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t"),a=0;a<r.items.length;a++){var s=e+"["+a+"]",i=this.getRuleFromSchema(r.items[a]);t.push(this.compileRule(i,n,s,"\n\t\t\tarr["+a+"] = context.fn[%%INDEX%%](arr["+a+'], (parentField ? parentField : "") + "[" + '+a+' + "]", parent, errors, context);\n\t\t',"arr["+a+"]"))}return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function u(t){var e=t.schema;t=t.messages;var n=[],r=!1;if(!0===e.convert&&(r=!0,n.push('\n\t\t\tif (typeof value !== "string") {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar origValue = value;\n\t"),e.trim&&(r=!0,n.push("\n\t\t\tvalue = value.trim();\n\t\t")),e.trimLeft&&(r=!0,n.push("\n\t\t\tvalue = value.trimLeft();\n\t\t")),e.trimRight&&(r=!0,n.push("\n\t\t\tvalue = value.trimRight();\n\t\t")),e.padStart&&(r=!0,n.push("\n\t\t\tvalue = value.padStart("+e.padStart+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.padEnd&&(r=!0,n.push("\n\t\t\tvalue = value.padEnd("+e.padEnd+", "+JSON.stringify(null!=e.padChar?e.padChar:" ")+");\n\t\t")),e.lowercase&&(r=!0,n.push("\n\t\t\tvalue = value.toLowerCase();\n\t\t")),e.uppercase&&(r=!0,n.push("\n\t\t\tvalue = value.toUpperCase();\n\t\t")),e.localeLowercase&&(r=!0,n.push("\n\t\t\tvalue = value.toLocaleLowerCase();\n\t\t")),e.localeUppercase&&(r=!0,n.push("\n\t\t\tvalue = value.toLocaleUpperCase();\n\t\t")),n.push("\n\t\t\tvar len = value.length;\n\t"),!1===e.empty&&n.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"stringEmpty",actual:"value",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.min&&n.push("\n\t\t\tif (len < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"stringMin",expected:e.min,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (len > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"stringMax",expected:e.max,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.length&&n.push("\n\t\t\tif (len !== "+e.length+") {\n\t\t\t\t"+this.makeError({type:"stringLength",expected:e.length,actual:"len",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.pattern){var a=e.pattern;"string"==typeof e.pattern&&(a=new RegExp(e.pattern,e.patternFlags)),a="\n\t\t\tif (!"+a.toString()+".test(value))\n\t\t\t\t"+this.makeError({type:"stringPattern",expected:'"'+a.toString().replace(/"/g,"\\$&")+'"',actual:"origValue",messages:t})+"\n\t\t",n.push("\n\t\t\tif ("+e.empty+" === true && len === 0) {\n\t\t\t\t// Do nothing\n\t\t\t} else {\n\t\t\t\t"+a+"\n\t\t\t}\n\t\t")}return null!=e.contains&&n.push('\n\t\t\tif (value.indexOf("'+e.contains+'") === -1) {\n\t\t\t\t'+this.makeError({type:"stringContains",expected:'"'+e.contains+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.enum&&(a=JSON.stringify(e.enum),n.push("\n\t\t\tif ("+a+".indexOf(value) === -1) {\n\t\t\t\t"+this.makeError({type:"stringEnum",expected:'"'+e.enum.join(", ")+'"',actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t")),!0===e.numeric&&n.push("\n\t\t\tif (!"+R.toString()+".test(value) ) {\n\t\t\t\t"+this.makeError({type:"stringNumeric",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alpha&&n.push("\n\t\t\tif(!"+F.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlpha",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphanum&&n.push("\n\t\t\tif(!"+K.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphanum",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.alphadash&&n.push("\n\t\t\tif(!"+q.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringAlphadash",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.hex&&n.push("\n\t\t\tif(value.length % 2 !== 0 || !"+N.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringHex",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.singleLine&&n.push('\n\t\t\tif(value.includes("\\n")) {\n\t\t\t\t'+this.makeError({type:"stringSingleLine",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.base64&&n.push("\n\t\t\tif(!"+M.toString()+".test(value)) {\n\t\t\t\t"+this.makeError({type:"stringBase64",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:r,source:n.join("\n")}}function o(t,e,n){e=t.schema;var r=t.messages;t=t.index;var a=[];return n.customs[t]?n.customs[t].schema=e:n.customs[t]={schema:e},a.push("\n\t\tconst ObjectID = context.customs["+t+"].schema.ObjectID;\n\t\tif (!ObjectID.isValid(value)) {\n\t\t\t"+this.makeError({type:"objectID",actual:"value",messages:r})+"\n\t\t\treturn;\n\t\t}\n\t"),!0===e.convert?a.push("return new ObjectID(value)"):"hexString"===e.convert?a.push("return value.toString()"):a.push("return value"),{source:a.join("\n")}}function l(t,e,n){var r=t.schema;t=t.messages;var a=[];a.push('\n\t\tif (typeof value !== "object" || value === null || Array.isArray(value)) {\n\t\t\t'+this.makeError({type:"object",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t");var s=r.properties||r.props;if(s){a.push("var parentObj = value;"),a.push("var parentField = field;");for(var i=Object.keys(s),u=0;u<i.length;u++){var o=i[u],l=S(o),c=T.test(l)?"."+l:"['"+l+"']",p="parentObj"+c,d=(e?e+".":"")+o;a.push("\n// Field: "+S(d)),a.push('field = parentField ? parentField + "'+c+'" : "'+l+'";'),a.push("value = "+p+";"),o=this.getRuleFromSchema(s[o]),a.push(this.compileRule(o,n,d,"\n\t\t\t\t"+p+" = context.fn[%%INDEX%%](value, field, parentObj, errors, context);\n\t\t\t",p))}r.strict&&(e=Object.keys(s),a.push("\n\t\t\t\tfield = parentField;\n\t\t\t\tvar invalidProps = [];\n\t\t\t\tvar props = Object.keys(parentObj);\n\n\t\t\t\tfor (let i = 0; i < props.length; i++) {\n\t\t\t\t\tif ("+JSON.stringify(e)+".indexOf(props[i]) === -1) {\n\t\t\t\t\t\tinvalidProps.push(props[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (invalidProps.length) {\n\t\t\t"),"remove"==r.strict?a.push("\n\t\t\t\t\tinvalidProps.forEach(function(field) {\n\t\t\t\t\t\tdelete parentObj[field];\n\t\t\t\t\t});\n\t\t\t\t"):a.push("\n\t\t\t\t\t"+this.makeError({type:"objectStrict",expected:'"'+e.join(", ")+'"',actual:"invalidProps.join(', ')",messages:t})+"\n\t\t\t\t"),a.push("\n\t\t\t\t}\n\t\t\t"))}return null==r.minProps&&null==r.maxProps||(r.strict?a.push("\n\t\t\t\tprops = Object.keys("+(s?"parentObj":"value")+");\n\t\t\t"):a.push("\n\t\t\t\tvar props = Object.keys("+(s?"parentObj":"value")+");\n\t\t\t\t"+(s?"field = parentField;":"")+"\n\t\t\t")),null!=r.minProps&&a.push("\n\t\t\tif (props.length < "+r.minProps+") {\n\t\t\t\t"+this.makeError({type:"objectMinProps",expected:r.minProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=r.maxProps&&a.push("\n\t\t\tif (props.length > "+r.maxProps+") {\n\t\t\t\t"+this.makeError({type:"objectMaxProps",expected:r.maxProps,actual:"props.length",messages:t})+"\n\t\t\t}\n\t\t"),s?a.push("\n\t\t\treturn parentObj;\n\t\t"):a.push("\n\t\t\treturn value;\n\t\t"),{source:a.join("\n")}}function c(t){var e=t.schema;t=t.messages;var n=[];n.push("\n\t\tvar origValue = value;\n\t");var r=!1;return!0===e.convert&&(r=!0,n.push('\n\t\t\tif (typeof value !== "number") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "number" || isNaN(value) || !isFinite(value)) {\n\t\t\t'+this.makeError({type:"number",actual:"origValue",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t"),null!=e.min&&n.push("\n\t\t\tif (value < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"numberMin",expected:e.min,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"numberMax",expected:e.max,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.equal&&n.push("\n\t\t\tif (value !== "+e.equal+") {\n\t\t\t\t"+this.makeError({type:"numberEqual",expected:e.equal,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.notEqual&&n.push("\n\t\t\tif (value === "+e.notEqual+") {\n\t\t\t\t"+this.makeError({type:"numberNotEqual",expected:e.notEqual,actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.integer&&n.push("\n\t\t\tif (value % 1 !== 0) {\n\t\t\t\t"+this.makeError({type:"numberInteger",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.positive&&n.push("\n\t\t\tif (value <= 0) {\n\t\t\t\t"+this.makeError({type:"numberPositive",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),!0===e.negative&&n.push("\n\t\t\tif (value >= 0) {\n\t\t\t\t"+this.makeError({type:"numberNegative",actual:"origValue",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\treturn value;\n\t"),{sanitized:r,source:n.join("\n")}}function p(t,e,n){t=t.schema;var r=[];r.push("\n\t\tvar prevErrLen = errors.length;\n\t\tvar errBefore;\n\t\tvar hasValid = false;\n\t\tvar newVal = value;\n\t");for(var a=0;a<t.rules.length;a++){r.push("\n\t\t\tif (!hasValid) {\n\t\t\t\terrBefore = errors.length;\n\t\t");var s=this.getRuleFromSchema(t.rules[a]);r.push(this.compileRule(s,n,e,"var tmpVal = context.fn[%%INDEX%%](value, field, parent, errors, context);","tmpVal")),r.push("\n\t\t\t\tif (errors.length == errBefore) {\n\t\t\t\t\thasValid = true;\n\t\t\t\t\tnewVal = tmpVal;\n\t\t\t\t}\n\t\t\t}\n\t\t")}return r.push("\n\t\tif (hasValid) {\n\t\t\terrors.length = prevErrLen;\n\t\t}\n\t\t\n\t\treturn newVal;\n\t"),{source:r.join("\n")}}function d(t){return{source:'\n\t\t\tif (typeof value !== "function")\n\t\t\t\t'+this.makeError({type:"function",actual:"value",messages:t.messages})+"\n\n\t\t\treturn value;\n\t\t"}}function h(t){var e=t.schema;t=t.messages;var n=[];return n.push("\n\t\tif (value !== null && value !== undefined) {\n\t"),e.remove?n.push("\n\t\t\treturn undefined;\n\t\t"):n.push("\n\t\t\t"+this.makeError({type:"forbidden",actual:"value",messages:t})+"\n\t\t"),n.push("\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function f(t){var e=t.schema;t=t.messages;var n=[];return e.field?(e.strict?n.push('\n\t\t\t\tif (value !== parent["'+e.field+'"])\n\t\t\t'):n.push('\n\t\t\t\tif (value != parent["'+e.field+'"])\n\t\t\t'),n.push("\n\t\t\t\t"+this.makeError({type:"equalField",actual:"value",expected:JSON.stringify(e.field),messages:t})+"\n\t\t")):(e.strict?n.push("\n\t\t\t\tif (value !== "+JSON.stringify(e.value)+")\n\t\t\t"):n.push("\n\t\t\t\tif (value != "+JSON.stringify(e.value)+")\n\t\t\t"),n.push("\n\t\t\t\t"+this.makeError({type:"equalValue",actual:"value",expected:JSON.stringify(e.value),messages:t})+"\n\t\t")),n.push("\n\t\treturn value;\n\t"),{source:n.join("\n")}}function g(t){var e=t.schema;return t=t.messages,{source:"\n\t\t\tif ("+JSON.stringify(e.values||[])+".indexOf(value) === -1)\n\t\t\t\t"+this.makeError({type:"enumValue",expected:'"'+e.values.join(", ")+'"',actual:"value",messages:t})+"\n\t\t\t\n\t\t\treturn value;\n\t\t"}}function v(t){var e=t.schema;t=t.messages;var n=[],r="precise"==e.mode?A:C,a=!1;return n.push('\n\t\tif (typeof value !== "string") {\n\t\t\t'+this.makeError({type:"string",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\t"),e.empty?n.push("\n\t\t\tif (value.length === 0) return value;\n\t\t"):n.push("\n\t\t\tif (value.length === 0) {\n\t\t\t\t"+this.makeError({type:"emailEmpty",actual:"value",messages:t})+"\n\t\t\t\treturn value;\n\t\t\t}\n\t\t"),e.normalize&&(a=!0,n.push("\n\t\t\tvalue = value.trim().toLowerCase();\n\t\t")),null!=e.min&&n.push("\n\t\t\tif (value.length < "+e.min+") {\n\t\t\t\t"+this.makeError({type:"emailMin",expected:e.min,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),null!=e.max&&n.push("\n\t\t\tif (value.length > "+e.max+") {\n\t\t\t\t"+this.makeError({type:"emailMax",expected:e.max,actual:"value.length",messages:t})+"\n\t\t\t}\n\t\t"),n.push("\n\t\tif (!"+r.toString()+".test(value)) {\n\t\t\t"+this.makeError({type:"email",actual:"value",messages:t})+"\n\t\t}\n\n\t\treturn value;\n\t"),{sanitized:a,source:n.join("\n")}}function m(t){var e=t.schema;t=t.messages;var n=[],r=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(r=!0,n.push("\n\t\t\tif (!(value instanceof Date)) {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\t\t")),n.push("\n\t\tif (!(value instanceof Date) || isNaN(value.getTime()))\n\t\t\t"+this.makeError({type:"date",actual:"origValue",messages:t})+"\n\n\t\treturn value;\n\t"),{sanitized:r,source:n.join("\n")}}function y(t){var e=t.schema;t=t.messages;var n=e.currencySymbol||null,r=e.thousandSeparator||",",a=e.decimalSeparator||".",s=e.customRegex;return e=!e.symbolOptional,e="(?=.*\\d)^(-?~1|~1-?)(([0-9]\\d{0,2}(~2\\d{3})*)|0)?(\\~3\\d{1,2})?$".replace(/~1/g,n?"\\"+n+(e?"":"?"):"").replace("~2",r).replace("~3",a),(n=[]).push("\n\t\tif (!value.match("+(s||new RegExp(e))+")) {\n\t\t\t"+this.makeError({type:"currency",actual:"value",messages:t})+"\n\t\t\treturn value;\n\t\t}\n\n\t\treturn value;\n\t"),{source:n.join("\n")}}function b(t,e,n){var r=[];return r.push("\n\t\t"+this.makeCustomValidator({fnName:"check",path:e,schema:t.schema,messages:t.messages,context:n,ruleIndex:t.index})+"\n\t\treturn value;\n\t"),{source:r.join("\n")}}function _(t,e,n){e=t.schema;var r=t.messages;t=t.index;var a=[],s=e.instanceOf.name?e.instanceOf.name:"<UnknowClass>";return n.customs[t]?n.customs[t].schema=e:n.customs[t]={schema:e},a.push("\n\t\tif (!(value instanceof context.customs["+t+"].schema.instanceOf))\n\t\t\t"+this.makeError({type:"classInstanceOf",actual:"value",expected:"'"+s+"'",messages:r})+"\n\t"),a.push("\n\t\treturn value;\n\t"),{source:a.join("\n")}}function x(t){var e=t.schema;t=t.messages;var n=[],r=!1;return n.push("\n\t\tvar origValue = value;\n\t"),!0===e.convert&&(r=!0,n.push('\n\t\t\tif (typeof value !== "boolean") {\n\t\t\t\tif (\n\t\t\t\tvalue === 1\n\t\t\t\t|| value === "true"\n\t\t\t\t|| value === "1"\n\t\t\t\t|| value === "on"\n\t\t\t\t) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (\n\t\t\t\tvalue === 0\n\t\t\t\t|| value === "false"\n\t\t\t\t|| value === "0"\n\t\t\t\t|| value === "off"\n\t\t\t\t) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\t\t\t}\n\t\t')),n.push('\n\t\tif (typeof value !== "boolean") {\n\t\t\t'+this.makeError({type:"boolean",actual:"origValue",messages:t})+"\n\t\t}\n\t\t\n\t\treturn value;\n\t"),{sanitized:r,source:n.join("\n")}}function w(t,e,n){var r=t.schema,a=t.messages;if((t=[]).push("\n\t\tif (!Array.isArray(value)) {\n\t\t\t"+this.makeError({type:"array",actual:"value",messages:a})+"\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t"),!1===r.empty&&t.push("\n\t\t\tif (len === 0) {\n\t\t\t\t"+this.makeError({type:"arrayEmpty",actual:"value",messages:a})+"\n\t\t\t}\n\t\t"),null!=r.min&&t.push("\n\t\t\tif (len < "+r.min+") {\n\t\t\t\t"+this.makeError({type:"arrayMin",expected:r.min,actual:"len",messages:a})+"\n\t\t\t}\n\t\t"),null!=r.max&&t.push("\n\t\t\tif (len > "+r.max+") {\n\t\t\t\t"+this.makeError({type:"arrayMax",expected:r.max,actual:"len",messages:a})+"\n\t\t\t}\n\t\t"),null!=r.length&&t.push("\n\t\t\tif (len !== "+r.length+") {\n\t\t\t\t"+this.makeError({type:"arrayLength",expected:r.length,actual:"len",messages:a})+"\n\t\t\t}\n\t\t"),null!=r.contains&&t.push("\n\t\t\tif (value.indexOf("+JSON.stringify(r.contains)+") === -1) {\n\t\t\t\t"+this.makeError({type:"arrayContains",expected:JSON.stringify(r.contains),actual:"value",messages:a})+"\n\t\t\t}\n\t\t"),!0===r.unique&&t.push("\n\t\t\tif(len > (new Set(value)).size) {\n\t\t\t\t"+this.makeError({type:"arrayUnique",expected:"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))",actual:"value",messages:a})+"\n\t\t\t}\n\t\t"),null!=r.enum){var s=JSON.stringify(r.enum);t.push("\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tif ("+s+".indexOf(value[i]) === -1) {\n\t\t\t\t\t"+this.makeError({type:"arrayEnum",expected:'"'+r.enum.join(", ")+'"',actual:"value[i]",messages:a})+"\n\t\t\t\t}\n\t\t\t}\n\t\t")}return null!=r.items&&(t.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t"),e+="[]",r=this.getRuleFromSchema(r.items),t.push(this.compileRule(r,n,e,'arr[i] = context.fn[%%INDEX%%](arr[i], (parentField ? parentField : "") + "[" + i + "]", parent, errors, context)',"arr[i]")),t.push("\n\t\t\t}\n\t\t")),t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function O(){var t=[];return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}}function k(t,e,n){for(var r in void 0===n&&(n={}),e){var a=e[r];(a="object"==typeof a&&!Array.isArray(a)&&null!=a&&0<Object.keys(a).length)?(t[r]=t[r]||{},k(t[r],e[r],n)):!0===n.skipIfExist&&void 0!==t[r]||(t[r]=e[r])}return t}function S(t){return t.replace(B,(function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}function E(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var j,P,I,D,$={required:"The '{field}' field is required.",string:"The '{field}' field must be a string.",stringEmpty:"The '{field}' field must not be empty.",stringMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",stringMax:"The '{field}' field length must be less than or equal to {expected} characters long.",stringLength:"The '{field}' field length must be {expected} characters long.",stringPattern:"The '{field}' field fails to match the required pattern.",stringContains:"The '{field}' field must contain the '{expected}' text.",stringEnum:"The '{field}' field does not match any of the allowed values.",stringNumeric:"The '{field}' field must be a numeric string.",stringAlpha:"The '{field}' field must be an alphabetic string.",stringAlphanum:"The '{field}' field must be an alphanumeric string.",stringAlphadash:"The '{field}' field must be an alphadash string.",stringHex:"The '{field}' field must be a hex string.",stringSingleLine:"The '{field}' field must be a single line string.",stringBase64:"The '{field}' field must be a base64 string.",number:"The '{field}' field must be a number.",numberMin:"The '{field}' field must be greater than or equal to {expected}.",numberMax:"The '{field}' field must be less than or equal to {expected}.",numberEqual:"The '{field}' field must be equal to {expected}.",numberNotEqual:"The '{field}' field can't be equal to {expected}.",numberInteger:"The '{field}' field must be an integer.",numberPositive:"The '{field}' field must be a positive number.",numberNegative:"The '{field}' field must be a negative number.",array:"The '{field}' field must be an array.",arrayEmpty:"The '{field}' field must not be an empty array.",arrayMin:"The '{field}' field must contain at least {expected} items.",arrayMax:"The '{field}' field must contain less than or equal to {expected} items.",arrayLength:"The '{field}' field must contain {expected} items.",arrayContains:"The '{field}' field must contain the '{expected}' item.",arrayUnique:"The '{actual}' value in '{field}' field does not unique the '{expected}' values.",arrayEnum:"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.",tuple:"The '{field}' field must be an array.",tupleEmpty:"The '{field}' field must not be an empty array.",tupleLength:"The '{field}' field must contain {expected} items.",boolean:"The '{field}' field must be a boolean.",currency:"The '{field}' must be a valid currency format",date:"The '{field}' field must be a Date.",dateMin:"The '{field}' field must be greater than or equal to {expected}.",dateMax:"The '{field}' field must be less than or equal to {expected}.",enumValue:"The '{field}' field value '{expected}' does not match any of the allowed values.",equalValue:"The '{field}' field value must be equal to '{expected}'.",equalField:"The '{field}' field value must be equal to '{expected}' field value.",forbidden:"The '{field}' field is forbidden.",function:"The '{field}' field must be a function.",email:"The '{field}' field must be a valid e-mail.",emailEmpty:"The '{field}' field must not be empty.",emailMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",emailMax:"The '{field}' field length must be less than or equal to {expected} characters long.",luhn:"The '{field}' field must be a valid checksum luhn.",mac:"The '{field}' field must be a valid MAC address.",object:"The '{field}' must be an Object.",objectStrict:"The object '{field}' contains forbidden keys: '{actual}'.",objectMinProps:"The object '{field}' must contain at least {expected} properties.",objectMaxProps:"The object '{field}' must contain {expected} properties at most.",url:"The '{field}' field must be a valid URL.",urlEmpty:"The '{field}' field must not be empty.",uuid:"The '{field}' field must be a valid UUID.",uuidVersion:"The '{field}' field must be a valid UUID version provided.",classInstanceOf:"The '{field}' field must be an instance of the '{expected}' class.",objectID:"The '{field}' field must be an valid ObjectID"},A=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,C=/^\S+@\S+\.\S+$/,T=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,B=/["'\\\n\r\u2028\u2029]/g,R=/^-?[0-9]\d*(\.\d+)?$/,F=/^[a-zA-Z]+$/,K=/^[a-zA-Z0-9]+$/,q=/^[a-zA-Z0-9_-]+$/,N=/^[0-9a-fA-F]+$/,M=/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/,L=/^https?:\/\/\S+/,V=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i,W=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;return t.prototype.validate=function(t,e){return this.compile(e)(t)},t.prototype.wrapRequiredCheckSourceCode=function(t,e,n,r){var a=[],s=!0===t.schema.optional||"forbidden"===t.schema.type,i=!0===t.schema.optional||!0===t.schema.nullable||"forbidden"===t.schema.type;return null!=t.schema.default?(s=!1,!0!==t.schema.nullable&&(i=!1),"function"==typeof t.schema.default?(n.customs[t.index]||(n.customs[t.index]={}),n.customs[t.index].defaultFn=t.schema.default,t="context.customs["+t.index+"].defaultFn()"):t=JSON.stringify(t.schema.default),r="\n\t\t\t\tvalue = "+t+";\n\t\t\t\t"+r+" = value;\n\t\t\t"):r=this.makeError({type:"required",actual:"value",messages:t.messages}),a.push("\n\t\t\tif (value === undefined) { "+(s?"\n// allow undefined\n":r)+" }\n\t\t\telse if (value === null) { "+(i?"\n// allow null\n":r)+" }\n\t\t\t"+(e?"else { "+e+" }":"")+"\n\t\t"),a.join("\n")},t.prototype.compile=function(t){if(null===t||"object"!=typeof t)throw Error("Invalid schema.");var n=this,r={index:0,rules:[],fn:[],customs:{}};if(this.cache.clear(),!0!==t.$$root)if(Array.isArray(t))t=this.getRuleFromSchema(t).schema;else{var a=Object.assign({},t);t={type:"object",strict:a.$$strict,properties:a},delete a.$$strict}a=["var errors = [];","var field;","var parent = null;"],t=this.getRuleFromSchema(t),a.push(this.compileRule(t,r,null,"context.fn[%%INDEX%%](value, field, null, errors, context);","value")),a.push("if (errors.length) {"),a.push('\n\t\t\treturn errors.map(err => {\n\t\t\t\tif (err.message)\n\t\t\t\t\terr.message = err.message\n\t\t\t\t\t\t.replace(/\\{field\\}/g, err.field || "")\n\t\t\t\t\t\t.replace(/\\{expected\\}/g, err.expected != null ? err.expected : "")\n\t\t\t\t\t\t.replace(/\\{actual\\}/g, err.actual != null ? err.actual : "");\n\n\t\t\t\treturn err;\n\t\t\t});\n\t\t'),a.push("}"),a.push("return true;"),t=a.join("\n");var s=new Function("value","context",t);if(this.opts.debug){var i=function(t){return t};"undefined"==typeof window&&(i=e),r.fn.forEach((function(t,e){return console.log(i("// Context.fn["+e+"]\n"+t.toString()))})),console.log(i("// Main check function\n"+s.toString()))}return this.cache.clear(),function(t){return r.data=t,s.call(n,t,r)}},t.prototype.compileRule=function(t,e,n,r,a){var s=[],i=this.cache.get(t.schema);return i?((t=i).cycle=!0,t.cycleStack=[],s.push(this.wrapRequiredCheckSourceCode(t,"\n\t\t\t\tvar rule = context.rules["+t.index+"];\n\t\t\t\tif (rule.cycleStack.indexOf(value) === -1) {\n\t\t\t\t\trule.cycleStack.push(value);\n\t\t\t\t\t"+r.replace(/%%INDEX%%/g,t.index)+"\n\t\t\t\t\trule.cycleStack.pop(value);\n\t\t\t\t}\n\t\t\t",e,a))):(this.cache.set(t.schema,t),t.index=e.index,e.rules[e.index]=t,i=null!=n?n:"$$root",e.index++,(n=t.ruleFunction.call(this,t,n,e)).source=n.source.replace(/%%INDEX%%/g,t.index),n=new Function("value","field","parent","errors","context",n.source),e.fn[t.index]=n,s.push(this.wrapRequiredCheckSourceCode(t,r.replace(/%%INDEX%%/g,t.index),e,a)),s.push(this.makeCustomValidator({vName:a,path:i,schema:t.schema,context:e,messages:t.messages,ruleIndex:t.index}))),s.join("\n")},t.prototype.getRuleFromSchema=function(t){var e=this;if("string"==typeof t)t=this.parseShortHand(t);else if(Array.isArray(t)){if(0==t.length)throw Error("Invalid schema.");(t={type:"multi",rules:t}).rules.map((function(t){return e.getRuleFromSchema(t)})).every((function(t){return 1==t.schema.optional}))&&(t.optional=!0)}if(t.$$type){var n=this.getRuleFromSchema(t.$$type).schema;delete t.$$type;var r,a=Object.assign({},t);for(r in t)delete t[r];k(t,n,{skipIfExist:!0}),t.props=a}if((n=this.aliases[t.type])&&(delete t.type,t=k(t,n,{skipIfExist:!0})),!(n=this.rules[t.type]))throw Error("Invalid '"+t.type+"' type in validator schema.");return{messages:Object.assign({},this.messages,t.messages),schema:k(t,this.defaults[t.type],{skipIfExist:!0}),ruleFunction:n}},t.prototype.parseShortHand=function(t){var e=(t=t.split("|").map((function(t){return t.trim()})))[0],n=e.endsWith("[]")?this.getRuleFromSchema({type:"array",items:e.slice(0,-2)}).schema:{type:t[0]};return t.slice(1).map((function(t){var e=t.indexOf(":");if(-1!==e){var r=t.substr(0,e).trim();"true"===(t=t.substr(e+1).trim())||"false"===t?t="true"===t:Number.isNaN(Number(t))||(t=Number(t)),n[r]=t}else t.startsWith("no-")?n[t.slice(3)]=!1:n[t]=!0})),n},t.prototype.makeError=function(t){var e=t.type,n=t.field,r=t.expected,a=t.actual,s={type:'"'+e+'"',message:'"'+t.messages[e]+'"'};return s.field=n?'"'+n+'"':"field",null!=r&&(s.expected=r),null!=a&&(s.actual=a),"errors.push({ "+Object.keys(s).map((function(t){return t+": "+s[t]})).join(", ")+" });"},t.prototype.makeCustomValidator=function(t){var e=t.vName;void 0===e&&(e="value");var n=t.fnName;void 0===n&&(n="custom");var r=t.ruleIndex,a=t.path,s=t.schema,i=t.context,u=t.messages;t="rule"+r;var o="fnCustomErrors"+r;return"function"==typeof s[n]?(i.customs[r]?(i.customs[r].messages=u,i.customs[r].schema=s):i.customs[r]={messages:u,schema:s},this.opts.useNewCustomCheckerFunction?"\n               const "+t+" = context.customs["+r+"];\n\t\t\t\t\tconst "+o+" = [];\n\t\t\t\t\t"+e+" = "+t+".schema."+n+".call(this, "+e+", "+o+" , "+t+'.schema, "'+a+'", parent, context);\n\t\t\t\t\tif (Array.isArray('+o+" )) {\n                  "+o+" .forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t\t":"\n\t\t\t\tconst "+t+" = context.customs["+r+"];\n\t\t\t\tconst "+(s="res_"+t)+" = "+t+".schema."+n+".call(this, "+e+", "+t+'.schema, "'+a+'", parent, context);\n\t\t\t\tif (Array.isArray('+s+")) {\n\t\t\t\t\t"+s+".forEach(err => errors.push(Object.assign({ message: "+t+".messages[err.type], field }, err)));\n\t\t\t\t}\n\t\t"):""},t.prototype.add=function(t,e){this.rules[t]=e},t.prototype.addMessage=function(t,e){this.messages[t]=e},t.prototype.alias=function(t,e){if(this.rules[t])throw Error("Alias name must not be a rule name");this.aliases[t]=e},t.prototype.plugin=function(t){if("function"!=typeof t)throw Error("Plugin fn type must be function");return t(this)},t}()}).call(this,n(71))},511:function(t,e,n){"use strict";n(428)},512:function(t,e,n){var r=n(15)(!1);r.push([t.i,"tbody tr:hover{background-color:hsla(0,0%,100%,.04314)!important}",""]),t.exports=r},513:function(t,e,n){"use strict";n(429)},514:function(t,e,n){var r=n(15)(!1);r.push([t.i,"h1[data-v-68875f9b]{padding:.6em .6em 1em}.hidden[data-v-68875f9b]{display:none}.name-column[data-v-68875f9b]{max-width:300px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.validation-error-messages-panel[data-v-68875f9b]{max-height:150px;overflow-y:auto;opacity:.7}",""]),t.exports=r},515:function(t,e,n){var content=n(516);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("1fdef030",content,!0,{sourceMap:!1})},516:function(t,e,n){var r=n(15)(!1);r.push([t.i,".theme--light.v-data-table tbody tr.v-data-table__selected{background:#f5f5f5}.theme--light.v-data-table .v-row-group__header,.theme--light.v-data-table .v-row-group__summary{background:#eee}.theme--light.v-data-table .v-data-footer{border-top:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table .v-data-table__empty-wrapper{color:rgba(0,0,0,.38)}.theme--dark.v-data-table tbody tr.v-data-table__selected{background:#505050}.theme--dark.v-data-table .v-row-group__header,.theme--dark.v-data-table .v-row-group__summary{background:#616161}.theme--dark.v-data-table .v-data-footer{border-top:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table .v-data-table__empty-wrapper{color:hsla(0,0%,100%,.5)}.v-data-table{border-radius:4px}.v-data-table tbody tr.v-data-table__expanded{border-bottom:0}.v-data-table tbody tr.v-data-table__expanded__content{box-shadow:inset 0 4px 8px -5px rgba(50,50,50,.75),inset 0 -4px 8px -5px rgba(50,50,50,.75)}.v-data-table .v-data-table__mobile-table-row{display:inline;display:initial}.v-data-table .v-data-table__mobile-row{height:auto;min-height:48px}.v-data-table__empty-wrapper{text-align:center}.v-data-table__mobile-row{align-items:center;display:flex;justify-content:space-between}.v-data-table__mobile-row__header{font-weight:600}.v-application--is-ltr .v-data-table__mobile-row__cell{text-align:right}.v-application--is-rtl .v-data-table__mobile-row__cell{text-align:left}.v-row-group__header td,.v-row-group__summary td{height:35px}.v-data-table__expand-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.v-data-table__expand-icon--active{transform:rotate(-180deg)}",""]),t.exports=r},517:function(t,e,n){var content=n(518);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("79d48750",content,!0,{sourceMap:!1})},518:function(t,e,n){var r=n(15)(!1);r.push([t.i,".v-data-footer{display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;font-size:.75rem;padding:0 8px}.v-data-footer .v-btn{color:inherit}.v-application--is-ltr .v-data-footer__icons-before .v-btn:last-child{margin-right:7px}.v-application--is-ltr .v-data-footer__icons-after .v-btn:first-child,.v-application--is-rtl .v-data-footer__icons-before .v-btn:last-child{margin-left:7px}.v-application--is-rtl .v-data-footer__icons-after .v-btn:first-child{margin-right:7px}.v-data-footer__pagination{display:block;text-align:center}.v-application--is-ltr .v-data-footer__pagination{margin:0 32px 0 24px}.v-application--is-rtl .v-data-footer__pagination{margin:0 24px 0 32px}.v-data-footer__select{display:flex;align-items:center;flex:0 0 0;justify-content:flex-end;white-space:nowrap}.v-application--is-ltr .v-data-footer__select{margin-right:14px}.v-application--is-rtl .v-data-footer__select{margin-left:14px}.v-data-footer__select .v-select{flex:0 1 0;padding:0;position:static}.v-application--is-ltr .v-data-footer__select .v-select{margin:13px 0 13px 34px}.v-application--is-rtl .v-data-footer__select .v-select{margin:13px 34px 13px 0}.v-data-footer__select .v-select__selections{flex-wrap:nowrap}.v-data-footer__select .v-select__selections .v-select__selection--comma{font-size:.75rem}",""]),t.exports=r},519:function(t,e,n){var content=n(520);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("10fb35c8",content,!0,{sourceMap:!1})},520:function(t,e,n){var r=n(15)(!1);r.push([t.i,".theme--light.v-data-table .v-data-table-header th.sortable .v-data-table-header__icon{color:rgba(0,0,0,.38)}.theme--light.v-data-table .v-data-table-header th.sortable.active,.theme--light.v-data-table .v-data-table-header th.sortable.active .v-data-table-header__icon,.theme--light.v-data-table .v-data-table-header th.sortable:hover{color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table-header__sort-badge{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.87)}.theme--dark.v-data-table .v-data-table-header th.sortable .v-data-table-header__icon{color:hsla(0,0%,100%,.5)}.theme--dark.v-data-table .v-data-table-header th.sortable.active,.theme--dark.v-data-table .v-data-table-header th.sortable.active .v-data-table-header__icon,.theme--dark.v-data-table .v-data-table-header th.sortable:hover{color:#fff}.theme--dark.v-data-table .v-data-table-header__sort-badge{background-color:hsla(0,0%,100%,.12);color:#fff}.v-data-table-header th.sortable{pointer-events:auto;cursor:pointer;outline:0}.v-data-table-header th.active .v-data-table-header__icon,.v-data-table-header th:hover .v-data-table-header__icon{transform:none;opacity:1}.v-data-table-header th.desc .v-data-table-header__icon{transform:rotate(-180deg)}.v-data-table-header__icon{display:inline-block;opacity:0;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-data-table-header__sort-badge{display:inline-flex;justify-content:center;align-items:center;border:0;border-radius:50%;min-width:18px;min-height:18px;height:18px;width:18px}.v-data-table-header-mobile th{height:auto}.v-data-table-header-mobile__wrapper{display:flex}.v-data-table-header-mobile__wrapper .v-select{margin-bottom:8px}.v-data-table-header-mobile__wrapper .v-select .v-chip{height:24px}.v-data-table-header-mobile__wrapper .v-select .v-chip__close.desc .v-icon{transform:rotate(-180deg)}.v-data-table-header-mobile__select{min-width:56px;display:flex;align-items:center;justify-content:center}",""]),t.exports=r},521:function(t,e,n){var content=n(522);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("7c06aa28",content,!0,{sourceMap:!1})},522:function(t,e,n){var r=n(15)(!1);r.push([t.i,".theme--light.v-data-table{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-data-table .v-data-table__divider{border-right:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table.v-data-table--fixed-header thead th{background:#fff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:rgba(0,0,0,.6)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--light.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid rgba(0,0,0,.12)}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#f5f5f5}.theme--light.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#eee}.theme--dark.v-data-table{background-color:#1e1e1e;color:#fff}.theme--dark.v-data-table .v-data-table__divider{border-right:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table.v-data-table--fixed-header thead th{background:#1e1e1e;box-shadow:inset 0 -1px 0 hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr>th{color:hsla(0,0%,100%,.7)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>td:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:last-child,.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:not(:last-child)>th:not(.v-data-table__mobile-row),.theme--dark.v-data-table>.v-data-table__wrapper>table>thead>tr:last-child>th{border-bottom:thin solid hsla(0,0%,100%,.12)}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr.active{background:#505050}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background:#616161}.v-data-table{line-height:1.5;max-width:100%}.v-data-table>.v-data-table__wrapper>table{width:100%;border-spacing:0}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{padding:0 16px;transition:height .2s cubic-bezier(.4,0,.6,1)}.v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table>.v-data-table__wrapper>table>thead>tr>th{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:.75rem;height:48px}.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-ltr .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:left}.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tbody>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>tfoot>tr>th,.v-application--is-rtl .v-data-table>.v-data-table__wrapper>table>thead>tr>th{text-align:right}.v-data-table>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table>.v-data-table__wrapper>table>thead>tr>td{font-size:.875rem;height:48px}.v-data-table__wrapper{overflow-x:auto;overflow-y:hidden}.v-data-table__progress{height:auto!important}.v-data-table__progress th{height:auto!important;border:none!important;padding:0;position:relative}.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tbody>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>tfoot>tr>th,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>td,.v-data-table--dense>.v-data-table__wrapper>table>thead>tr>th{height:32px}.v-data-table--fixed-header>.v-data-table__wrapper,.v-data-table--fixed-height .v-data-table__wrapper{overflow-y:auto}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr>th{border-bottom:0!important;position:-webkit-sticky;position:sticky;top:0;z-index:2}.v-data-table--fixed-header>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:48px}.v-application--is-ltr .v-data-table--fixed-header .v-data-footer{margin-right:17px}.v-application--is-rtl .v-data-table--fixed-header .v-data-footer{margin-left:17px}.v-data-table--fixed-header.v-data-table--dense>.v-data-table__wrapper>table>thead>tr:nth-child(2)>th{top:32px}",""]),t.exports=r},525:function(t,e,n){"use strict";n.r(e);n(58);var r=n(21),o=n(31),l=n(30),c=n(26),d=n(19),h=n(11),f=(n(13),n(158),n(20),n(49),n(8),n(0)),v=n(155),m=n(509),y=function(){return y=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},y.apply(this,arguments)};function _(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,w=Object.keys,O=Array.isArray;function k(t,e){return"object"!=typeof e||w(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||x.Promise||(x.Promise=Promise);var S=Object.getPrototypeOf,E={}.hasOwnProperty;function j(t,e){return E.call(t,e)}function P(t,e){"function"==typeof e&&(e=e(S(t))),("undefined"==typeof Reflect?w:Reflect.ownKeys)(e).forEach((function(n){D(t,n,e[n])}))}var I=Object.defineProperty;function D(t,e,n,r){I(t,e,k(n&&j(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function $(t){return{from:function(e){return t.prototype=Object.create(e.prototype),D(t.prototype,"constructor",t),{extend:P.bind(null,t.prototype)}}}}var A=Object.getOwnPropertyDescriptor;function C(t,e){var n;return A(t,e)||(n=S(t))&&C(n,e)}var T=[].slice;function B(t,e,n){return T.call(t,e,n)}function R(t,e){return e(t)}function F(b){if(!b)throw new Error("Assertion Failed")}function K(t){x.setImmediate?setImmediate(t):setTimeout(t,0)}function N(t,e){return t.reduce((function(t,n,i){var r=e(n,i);return r&&(t[r[0]]=r[1]),t}),{})}function M(t,e){if(j(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],i=0,r=e.length;i<r;++i){var o=M(t,e[i]);n.push(o)}return n}var l=e.indexOf(".");if(-1!==l){var c=t[e.substr(0,l)];return void 0===c?void 0:M(c,e.substr(l+1))}}function L(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){F("string"!=typeof n&&"length"in n);for(var i=0,r=e.length;i<r;++i)L(t,e[i],n[i])}else{var o=e.indexOf(".");if(-1!==o){var l=e.substr(0,o),c=e.substr(o+1);if(""===c)void 0===n?O(t)&&!isNaN(parseInt(l))?t.splice(l,1):delete t[l]:t[l]=n;else{var d=t[l];d&&j(t,l)||(d=t[l]={}),L(d,c,n)}}else void 0===n?O(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function V(t){var e={};for(var n in t)j(t,n)&&(e[n]=t[n]);return e}var W=[].concat;function U(a){return W.apply([],a)}var H="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(U([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return x[t]})),z=H.map((function(t){return x[t]}));N(H,(function(t){return[t,!0]}));var G=null;function Y(t){G="undefined"!=typeof WeakMap&&new WeakMap;var e=X(t);return G=null,e}function X(t){if(!t||"object"!=typeof t)return t;var e=G&&G.get(t);if(e)return e;if(O(t)){e=[],G&&G.set(t,e);for(var i=0,n=t.length;i<n;++i)e.push(X(t[i]))}else if(z.indexOf(t.constructor)>=0)e=t;else{var r=S(t);for(var o in e=r===Object.prototype?{}:Object.create(r),G&&G.set(t,e),t)j(t,o)&&(e[o]=X(t[o]))}return e}var J={}.toString;function Z(t){return J.call(t).slice(8,-1)}var Q="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",tt="symbol"==typeof Q?function(t){var i;return null!=t&&(i=t[Q])&&i.apply(t)}:function(){return null},et={};function nt(t){var i,a,e,n;if(1===arguments.length){if(O(t))return t.slice();if(this===et&&"string"==typeof t)return[t];if(n=tt(t)){for(a=[];!(e=n.next()).done;)a.push(e.value);return a}if(null==t)return[t];if("number"==typeof(i=t.length)){for(a=new Array(i);i--;)a[i]=t[i];return a}return[t]}for(i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return a}var at="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},it="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ot(t,filter){it=t,st=filter}var st=function(){return!0},ut=!new Error("").stack;function lt(){if(ut)try{throw lt.arguments,new Error}catch(t){return t}return new Error}function ct(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(st).map((function(t){return"\n"+t})).join("")):""}var pt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ht=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pt),ft={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function vt(t,e){this._e=lt(),this.name=t,this.message=e}function mt(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,i,s){return s.indexOf(t)===i})).join("\n")}function gt(t,e,n,r){this._e=lt(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=mt(t,e)}function yt(t,e){this._e=lt(),this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=mt(t,e)}$(vt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ct(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$(gt).from(vt),$(yt).from(vt);var bt=ht.reduce((function(t,e){return t[e]=e+"Error",t}),{}),_t=vt,xt=ht.reduce((function(t,e){var n=e+"Error";function r(t,r){this._e=lt(),this.name=n,t?"string"==typeof t?(this.message=t+(r?"\n "+r:""),this.inner=r||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=ft[e]||n,this.inner=null)}return $(r).from(_t),t[e]=r,t}),{});xt.Syntax=SyntaxError,xt.Type=TypeError,xt.Range=RangeError;var wt=pt.reduce((function(t,e){return t[e+"Error"]=xt[e],t}),{});var Ot=ht.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=xt[e]),t}),{});function kt(){}function St(t){return t}function Et(t,e){return null==t||t===St?e:function(n){return e(t(n))}}function jt(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Pt(t,e){return t===kt?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var l=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?jt(r,this.onsuccess):r),o&&(this.onerror=this.onerror?jt(o,this.onerror):o),void 0!==l?l:n}}function It(t,e){return t===kt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?jt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?jt(r,this.onerror):r)}}function Dt(t,e){return t===kt?e:function(n){var r=t.apply(this,arguments);k(n,r);var o=this.onsuccess,l=this.onerror;this.onsuccess=null,this.onerror=null;var c=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?jt(o,this.onsuccess):o),l&&(this.onerror=this.onerror?jt(l,this.onerror):l),void 0===r?void 0===c?void 0:c:k(r,c)}}function $t(t,e){return t===kt?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function At(t,e){return t===kt?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return e.apply(r,o)}))}return e.apply(this,arguments)}}Ot.ModifyError=gt,Ot.DexieError=vt,Ot.BulkError=yt;var Ct={},Tt="undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,S(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,S(e),t]}(),Bt=Tt[0],Rt=Tt[1],Ft=Tt[2],Kt=Rt&&Rt.then,Nt=Bt&&Bt.constructor,Mt=!!Ft,Lt=!1,qt=Ft?function(){Ft.then(pe)}:x.setImmediate?setImmediate.bind(null,pe):x.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){pe(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(pe,0)},Vt=function(t,e){Zt.push([t,e]),Ut&&(qt(),Ut=!1)},Wt=!0,Ut=!0,Ht=[],zt=[],Gt=null,Yt=St,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{Re(t[0],t[1])}catch(t){}}))}},Jt=Xt,Zt=[],Qt=0,te=[];function ee(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=kt,this._lib=!1;var e=this._PSD=Jt;if(it&&(this._stackHolder=lt(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Ct)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ie(this,this._value))}this._state=null,this._value=null,++e.ref,ae(this,t)}var ne={get:function(){var t=Jt,e=xe;function n(n,r){var o=this,l=!t.global&&(t!==Jt||e!==xe),c=l&&!Se(),d=new ee((function(e,d){se(o,new re(Ce(n,t,l,c),Ce(r,t,l,c),e,d,t))}));return it&&ce(d,this),d}return n.prototype=Ct,n},set:function(t){D(this,"then",t&&t.prototype===Ct?ne:{get:function(){return t},set:ne.set})}};function re(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function ae(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&de();e&&"function"==typeof e.then?ae(t,(function(t,n){e instanceof ee?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,oe(t)),n&&he()}}),ie.bind(null,t))}catch(e){ie(t,e)}}function ie(t,e){if(zt.push(e),null===t._state){var n=t._lib&&de();e=Yt(e),t._state=!1,t._value=e,it&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}((function(){var n=C(e,"stack");e._promise=t,D(e,"stack",{get:function(){return Lt?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),function(t){Ht.some((function(p){return p._value===t._value}))||Ht.push(t)}(t),oe(t),n&&he()}}function oe(t){var e=t._listeners;t._listeners=[];for(var i=0,n=e.length;i<n;++i)se(t,e[i]);var r=t._PSD;--r.ref||r.finalize(),0===Qt&&(++Qt,Vt((function(){0==--Qt&&fe()}),[]))}function se(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Qt,Vt(ue,[n,t,e])}else t._listeners.push(e)}function ue(t,e,n){try{Gt=e;var r,o=e._value;e._state?r=t(o):(zt.length&&(zt=[]),r=t(o),-1===zt.indexOf(o)&&function(t){var i=Ht.length;for(;i;)if(Ht[--i]._value===t._value)return void Ht.splice(i,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Gt=null,0==--Qt&&fe(),--n.psd.ref||n.psd.finalize()}}function le(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var o,l,c=t._value;null!=c?(o=c.name||"Error",l=c.message||c,r=ct(c,0)):(o=c,l=""),e.push(o+(l?": "+l:"")+r)}return it&&((r=ct(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&le(t._prev,e,n)),e}function ce(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function pe(){de()&&he()}function de(){var t=Wt;return Wt=!1,Ut=!1,t}function he(){var t,i,e;do{for(;Zt.length>0;)for(t=Zt,Zt=[],e=t.length,i=0;i<e;++i){var n=t[i];n[0].apply(null,n[1])}}while(Zt.length>0);Wt=!0,Ut=!0}function fe(){var t=Ht;Ht=[],t.forEach((function(p){p._PSD.onunhandled.call(null,p._value,p)}));for(var e=te.slice(0),i=e.length;i;)e[--i]()}function ve(t){return new ee(Ct,!1,t)}function me(t,e){var n=Jt;return function(){var r=de(),o=Jt;try{return Ie(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{Ie(o,!1),r&&he()}}}P(ee.prototype,{then:ne,_then:function(t,e){se(this,new re(null,null,t,e,Jt))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return t instanceof e?n(t):ve(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):ve(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),ve(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{Lt=!0;var t=le(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Lt=!1}}},timeout:function(t,e){var n=this;return t<1/0?new ee((function(r,o){var l=setTimeout((function(){return o(new xt.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,l))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&D(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=De(),P(ee,{all:function(){var t=nt.apply(null,arguments).map(Ee);return new ee((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(a,i){return ee.resolve(a).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(t instanceof ee)return t;if(t&&"function"==typeof t.then)return new ee((function(e,n){t.then(e,n)}));var e=new ee(Ct,!0,t);return ce(e,Gt),e},reject:ve,race:function(){var t=nt.apply(null,arguments).map(Ee);return new ee((function(e,n){t.map((function(t){return ee.resolve(t).then(e,n)}))}))},PSD:{get:function(){return Jt},set:function(t){return Jt=t}},totalEchoes:{get:function(){return xe}},newPSD:Oe,usePSD:$e,scheduler:{get:function(){return Vt},set:function(t){Vt=t}},rejectionMapper:{get:function(){return Yt},set:function(t){Yt=t}},follow:function(t,e){return new ee((function(n,r){return Oe((function(e,n){var r=Jt;r.unhandleds=[],r.onunhandled=n,r.finalize=jt((function(){var t=this;!function(t){function e(){t(),te.splice(te.indexOf(e),1)}te.push(e),++Qt,Vt((function(){0==--Qt&&fe()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),Nt&&(Nt.allSettled&&D(ee,"allSettled",(function(){var t=nt.apply(null,arguments).map(Ee);return new ee((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(p,i){return ee.resolve(p).then((function(t){return r[i]={status:"fulfilled",value:t}}),(function(t){return r[i]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),Nt.any&&"undefined"!=typeof AggregateError&&D(ee,"any",(function(){var t=nt.apply(null,arguments).map(Ee);return new ee((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(p,i){return ee.resolve(p).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})));var ge={awaits:0,echoes:0,id:0},ye=0,be=[],_e=0,xe=0,we=0;function Oe(t,e,n,r){var o=Jt,l=Object.create(o);l.parent=o,l.ref=0,l.global=!1,l.id=++we;var c=Xt.env;l.env=Mt?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject,nthen:Te(c.nthen,l),gthen:Te(c.gthen,l)}:{},e&&k(l,e),++o.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=$e(l,t,n,r);return 0===l.ref&&l.finalize(),d}function ke(){return ge.id||(ge.id=++ye),++ge.awaits,ge.echoes+=100,ge.id}function Se(){return!!ge.awaits&&(0==--ge.awaits&&(ge.id=0),ge.echoes=100*ge.awaits,!0)}function Ee(t){return ge.echoes&&t&&t.constructor===Nt?(ke(),t.then((function(t){return Se(),t}),(function(t){return Se(),Fe(t)}))):t}function je(t){++xe,ge.echoes&&0!=--ge.echoes||(ge.echoes=ge.id=0),be.push(Jt),Ie(t,!0)}function Pe(){var t=be[be.length-1];be.pop(),Ie(t,!1)}function Ie(t,e){var n=Jt;if((e?!ge.echoes||_e++&&t===Jt:!_e||--_e&&t===Jt)||Ae(e?je.bind(null,t):Pe),t!==Jt&&(Jt=t,n===Xt&&(Xt.env=De()),Mt)){var r=Xt.env.Promise,o=t.env;Rt.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(x,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function De(){var t=x.Promise;return Mt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(x,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Rt.then,gthen:t.prototype.then}:{}}function $e(t,e,n,r,o){var l=Jt;try{return Ie(t,!0),e(n,r,o)}finally{Ie(l,!1)}}function Ae(t){Kt.call(Bt,t)}function Ce(t,e,n,r){return"function"!=typeof t?t:function(){var o=Jt;n&&ke(),Ie(e,!0);try{return t.apply(this,arguments)}finally{Ie(o,!1),r&&Ae(Se)}}}function Te(t,e){return function(n,r){return t.call(this,Ce(n,e),Ce(r,e))}}-1===(""+Kt).indexOf("[native code]")&&(ke=Se=kt);var Be="unhandledrejection";function Re(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(x.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Be,!0,!0),k(r,o)):x.CustomEvent&&k(r=new CustomEvent(Be,{detail:o}),o),r&&x.dispatchEvent&&(dispatchEvent(r),!x.PromiseRejectionEvent&&x.onunhandledrejection))try{x.onunhandledrejection(r)}catch(t){}it&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var Fe=ee.reject;function Ke(t,e,n,r){if(t.idbdb&&(t._state.openComplete||Jt.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===bt.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return Ke(t,e,n,r)}))):Fe(o)}return o._promise(e,(function(t,e){return Oe((function(){return Jt.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(t._state.openComplete)return Fe(new xt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Fe(new xt.DatabaseClosed);t.open().catch(kt)}return t._state.dbReadyPromise.then((function(){return Ke(t,e,n,r)}))}var Ne="3.2.2",Me=String.fromCharCode(65535),Le=-1/0,qe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ve="String expected.",We=[],Ue="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),He=Ue,ze=Ue,Ge=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Ye="__dbnames",Xe="readonly",Je="readwrite";function Ze(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Qe={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function tn(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=Y(e))[t],e}}var en=function(){function t(){}return t.prototype._trans=function(t,e,n){var r=this._tx||Jt.trans,o=this.name;function l(t,n,r){if(!r.schema[o])throw new xt.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var c=de();try{return r&&r.db===this.db?r===Jt.trans?r._promise(t,l,n):Oe((function(){return r._promise(t,l,n)}),{trans:r,transless:Jt.transless||Jt}):Ke(this.db,t,[this.name],l)}finally{c&&he()}},t.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},t.prototype.where=function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(O(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var e=w(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))&&t.keyPath.every((function(t){return e.indexOf(t)>=0}))}))[0];if(n&&this.db._maxKey!==Me)return this.where(n.name).equals(n.keyPath.map((function(e){return t[e]})));!n&&it&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var r=this.schema.idxByName,o=this.db._deps.indexedDB;function l(a,b){try{return 0===o.cmp(a,b)}catch(t){return!1}}var c=e.reduce((function(e,n){var o=e[0],c=e[1],d=r[n],h=t[n];return[o||d,o||!d?Ze(c,d&&d.multi?function(t){var e=M(t,n);return O(e)&&e.some((function(t){return l(h,t)}))}:function(t){return l(h,M(t,n))}):c]}),[null,null]),d=c[0],h=c[1];return d?this.where(d.name).equals(t[d.keyPath]).filter(h):n?this.filter(h):this.where(e).equals("")},t.prototype.filter=function(t){return this.toCollection().and(t)},t.prototype.count=function(t){return this.toCollection().count(t)},t.prototype.offset=function(t){return this.toCollection().offset(t)},t.prototype.limit=function(t){return this.toCollection().limit(t)},t.prototype.each=function(t){return this.toCollection().each(t)},t.prototype.toArray=function(t){return this.toCollection().toArray(t)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,O(t)?"["+t.join("+")+"]":t))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(t){this.schema.mappedClass=t;var e=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(j(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t},t.prototype.defineClass=function(){return this.mapToClass((function(content){k(this,content)}))},t.prototype.add=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,l=r.keyPath,c=t;return l&&o&&(c=tn(l)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[c]})})).then((function(t){return t.numFailures?ee.reject(t.failures[0]):t.lastResult})).then((function(e){if(l)try{L(t,l,e)}catch(t){}return e}))},t.prototype.update=function(t,e){if("object"!=typeof t||O(t))return this.where(":id").equals(t).modify(e);var n=M(t,this.schema.primKey.keyPath);if(void 0===n)return Fe(new xt.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?w(e).forEach((function(n){L(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)},t.prototype.put=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,l=r.keyPath,c=t;return l&&o&&(c=tn(l)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[c],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?ee.reject(t.failures[0]):t.lastResult})).then((function(e){if(l)try{L(t,l,e)}catch(t){}return e}))},t.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?ee.reject(t.failures[0]):void 0}))},t.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:Qe})})).then((function(t){return t.numFailures?ee.reject(t.failures[0]):void 0}))},t.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},t.prototype.bulkAdd=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,l=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,c=n.auto,d=n.keyPath;if(d&&o)throw new xt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new xt.InvalidArgument("Arguments objects and keys must have the same length");var h=t.length,f=d&&c?t.map(tn(d)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:f,wantResults:l}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,c=t.failures;if(0===e)return l?n:o;throw new yt(r.name+".bulkAdd(): "+e+" of "+h+" operations failed",c)}))}))},t.prototype.bulkPut=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,l=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,c=n.auto,d=n.keyPath;if(d&&o)throw new xt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new xt.InvalidArgument("Arguments objects and keys must have the same length");var h=t.length,f=d&&c?t.map(tn(d)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:f,wantResults:l}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,c=t.failures;if(0===e)return l?n:o;throw new yt(r.name+".bulkPut(): "+e+" of "+h+" operations failed",c)}))}))},t.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,l=t.failures;if(0===r)return o;throw new yt(e.name+".bulkDelete(): "+r+" of "+n+" operations failed",l)}))},t}();function nn(t){var e={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return e[n].subscribe.apply(null,o),t}if("string"==typeof n)return e[n]};n.addEventType=o;for(var i=1,r=arguments.length;i<r;++i)o(arguments[i]);return n;function o(t,r,o){if("object"==typeof t)return l(t);r||(r=$t),o||(o=kt);var c={subscribers:[],fire:o,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=r(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter((function(e){return e!==t})),c.fire=c.subscribers.reduce(r,o)}};return e[t]=n[t]=c,c}function l(t){w(t).forEach((function(e){var n=t[e];if(O(n))o(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new xt.InvalidArgument("Invalid event config");var r=o(e,St,(function(){for(var i=arguments.length,t=new Array(i);i--;)t[i]=arguments[i];r.subscribers.forEach((function(e){K((function(){e.apply(null,t)}))}))}))}}))}}function rn(t,e){return $(e).from({prototype:t}),e}function an(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function on(t,e){t.filter=Ze(t.filter,e)}function sn(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Ze(r(),e())}:e,t.justLimit=n&&!r}function un(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new xt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function ln(t,e,n){var r=un(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function cn(t,e,n,r){var filter=t.replayFilter?Ze(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},l=function(t,cursor,n){if(!filter||filter(cursor,n,(function(t){return cursor.stop(t)}),(function(t){return cursor.fail(t)}))){var r=cursor.primaryKey,l=""+r;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(r)),j(o,l)||(o[l]=!0,e(t,cursor,n))}};return Promise.all([t.or._iterate(l,n),pn(ln(t,r,n),t.algorithm,l,!t.keysOnly&&t.valueMapper)])}return pn(ln(t,r,n),Ze(t.algorithm,filter),e,!t.keysOnly&&t.valueMapper)}function pn(t,filter,e,n){var r=me(n?function(t,r,a){return e(n(t),r,a)}:e);return t.then((function(cursor){if(cursor)return cursor.start((function(){var t=function(){return cursor.continue()};filter&&!filter(cursor,(function(e){return t=e}),(function(e){cursor.stop(e),t=kt}),(function(e){cursor.fail(e),t=kt}))||r(cursor.value,cursor,(function(e){return t=e})),t()}))}))}function dn(a,b){try{var t=hn(a),e=hn(b);if(t!==e)return"Array"===t?1:"Array"===e?-1:"binary"===t?1:"binary"===e?-1:"string"===t?1:"string"===e?-1:"Date"===t?1:"Date"!==e?NaN:-1;switch(t){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return function(a,b){for(var t=a.length,e=b.length,n=t<e?t:e,i=0;i<n;++i)if(a[i]!==b[i])return a[i]<b[i]?-1:1;return t===e?0:t<e?-1:1}(fn(a),fn(b));case"Array":return function(a,b){for(var t=a.length,e=b.length,n=t<e?t:e,i=0;i<n;++i){var r=dn(a[i],b[i]);if(0!==r)return r}return t===e?0:t<e?-1:1}(a,b)}}catch(t){}return NaN}function hn(t){var e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=Z(t);return"ArrayBuffer"===n?"binary":n}function fn(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var vn=function(){function t(){}return t.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Fe.bind(null,n.error)):n.table._trans("readonly",t).then(e)},t.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,Fe.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},t.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=Ze(e.algorithm,t)},t.prototype._iterate=function(t,e){return cn(this._ctx,t,e,this._ctx.table.core)},t.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&k(n,t),e._ctx=n,e},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return cn(e,t,n,e.table.core)}))},t.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(an(n,!0))return r.count({trans:t,query:{index:un(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return cn(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)},t.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function l(t,i){return i?l(t[n[i]],i-1):t[r]}var c="next"===this._ctx.dir?1:-1;function d(a,b){var t=l(a,o),e=l(b,o);return t<e?-c:t>e?c:0}return this.toArray((function(a){return a.sort(d)})).then(e)},t.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&an(n,!0)&&n.limit>0){var r=n.valueMapper,o=un(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var l=[];return cn(n,(function(t){return l.push(t)}),t,n.table.core).then((function(){return l}))}),t)},t.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,an(e)?sn(e,(function(){var e=t;return function(cursor,t){return 0===e||(1===e?(--e,!1):(t((function(){cursor.advance(e),e=0})),!1))}})):sn(e,(function(){var e=t;return function(){return--e<0}}))),this},t.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),sn(this._ctx,(function(){var e=t;return function(cursor,t,n){return--e<=0&&t(n),e>=0}}),!0),this},t.prototype.until=function(t,e){return on(this._ctx,(function(cursor,n,r){return!t(cursor.value)||(n(r),e)})),this},t.prototype.first=function(t){return this.limit(1).toArray((function(a){return a[0]})).then(t)},t.prototype.last=function(t){return this.reverse().first(t)},t.prototype.filter=function(t){var e,n;return on(this._ctx,(function(cursor){return t(cursor.value)})),e=this._ctx,n=t,e.isMatch=Ze(e.isMatch,n),this},t.prototype.and=function(filter){return this.filter(filter)},t.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},t.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,cursor){t(cursor.key,cursor)}))},t.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},t.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,cursor){t(cursor.primaryKey,cursor)}))},t.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var a=[];return this.each((function(t,cursor){a.push(cursor.key)})).then((function(){return a})).then(t)},t.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&an(e,!0)&&e.limit>0)return this._read((function(t){var n=un(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var a=[];return this.each((function(t,cursor){a.push(cursor.primaryKey)})).then((function(){return a})).then(t)},t.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},t.prototype.firstKey=function(t){return this.limit(1).keys((function(a){return a[0]})).then(t)},t.prototype.lastKey=function(t){return this.reverse().firstKey(t)},t.prototype.distinct=function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return on(this._ctx,(function(cursor){var t=cursor.primaryKey.toString(),e=j(n,t);return n[t]=!0,!e})),this},t.prototype.modify=function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof t)o=t;else{var l=w(t),c=l.length;o=function(e){for(var n=!1,i=0;i<c;++i){var r=l[i],o=t[r];M(e,r)!==o&&(L(e,r,o),n=!0)}return n}}var d=n.table.core,h=d.schema.primaryKey,f=h.outbound,v=h.extractKey,m=e.db._options.modifyChunkSize||200,y=[],_=0,x=[],O=function(t,e){var n=e.failures,r=e.numFailures;_+=t-r;for(var o=0,l=w(n);o<l.length;o++){var c=l[o];y.push(n[c])}};return e.clone().primaryKeys().then((function(e){var l=function(c){var h=Math.min(m,e.length-c);return d.getMany({trans:r,keys:e.slice(c,c+h),cache:"immutable"}).then((function(y){for(var _=[],x=[],w=f?[]:null,k=[],i=0;i<h;++i){var S=y[i],E={value:Y(S),primKey:e[c+i]};!1!==o.call(E,E.value,E)&&(null==E.value?k.push(e[c+i]):f||0===dn(v(S),v(E.value))?(x.push(E.value),f&&w.push(e[c+i])):(k.push(e[c+i]),_.push(E.value)))}var j=an(n)&&n.limit===1/0&&("function"!=typeof t||t===mn)&&{index:n.index,range:n.range};return Promise.resolve(_.length>0&&d.mutate({trans:r,type:"add",values:_}).then((function(t){for(var e in t.failures)k.splice(parseInt(e),1);O(_.length,t)}))).then((function(){return(x.length>0||j&&"object"==typeof t)&&d.mutate({trans:r,type:"put",keys:w,values:x,criteria:j,changeSpec:"function"!=typeof t&&t}).then((function(t){return O(x.length,t)}))})).then((function(){return(k.length>0||j&&t===mn)&&d.mutate({trans:r,type:"delete",keys:k,criteria:j}).then((function(t){return O(k.length,t)}))})).then((function(){return e.length>c+h&&l(c+m)}))}))};return l(0).then((function(){if(y.length>0)throw new gt("Error modifying one or more objects",y,_,x);return e.length}))}))}))},t.prototype.delete=function(){var t=this._ctx,e=t.range;return an(t)&&(t.isPrimKey&&!ze||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures;t.lastResult,t.results;var r=t.numFailures;if(r)throw new gt("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(mn)},t}(),mn=function(t,e){return e.value=null};function gn(a,b){return a<b?-1:a===b?0:1}function yn(a,b){return a>b?-1:a===b?0:1}function bn(t,e,n){var r=t instanceof Sn?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function _n(t){return new t.Collection(t,(function(){return kn("")})).limit(0)}function xn(t,e,n,r,o,l){for(var c=Math.min(t.length,r.length),d=-1,i=0;i<c;++i){var h=e[i];if(h!==r[i])return o(t[i],n[i])<0?t.substr(0,i)+n[i]+n.substr(i+1):o(t[i],r[i])<0?t.substr(0,i)+r[i]+n.substr(i+1):d>=0?t.substr(0,d)+e[d]+n.substr(d+1):null;o(t[i],h)<0&&(d=i)}return c<r.length&&"next"===l?t+n.substr(t.length):c<t.length&&"prev"===l?t.substr(0,n.length):d<0?null:t.substr(0,d)+r[d]+n.substr(d+1)}function wn(t,e,n,r){var o,l,c,d,h,f,v,m=n.length;if(!n.every((function(s){return"string"==typeof s})))return bn(t,Ve);function y(t){o=function(t){return"next"===t?function(s){return s.toUpperCase()}:function(s){return s.toLowerCase()}}(t),l=function(t){return"next"===t?function(s){return s.toLowerCase()}:function(s){return s.toUpperCase()}}(t),c="next"===t?gn:yn;var e=n.map((function(t){return{lower:l(t),upper:o(t)}})).sort((function(a,b){return c(a.lower,b.lower)}));d=e.map((function(t){return t.upper})),h=e.map((function(t){return t.lower})),f=t,v="next"===t?"":r}y("next");var _=new t.Collection(t,(function(){return On(d[0],h[m-1]+r)}));_._ondirectionchange=function(t){y(t)};var x=0;return _._addAlgorithm((function(cursor,t,n){var r=cursor.key;if("string"!=typeof r)return!1;var o=l(r);if(e(o,h,x))return!0;for(var y=null,i=x;i<m;++i){var _=xn(r,o,d[i],h[i],c,f);null===_&&null===y?x=i+1:(null===y||c(y,_)>0)&&(y=_)}return t(null!==y?function(){cursor.continue(y+v)}:n),!1})),_}function On(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function kn(t){return{type:1,lower:t,upper:t}}var Sn=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?_n(this):new this.Collection(this,(function(){return On(t,e,!n,!r)}))}catch(t){return bn(this,qe)}},t.prototype.equals=function(t){return null==t?bn(this,qe):new this.Collection(this,(function(){return kn(t)}))},t.prototype.above=function(t){return null==t?bn(this,qe):new this.Collection(this,(function(){return On(t,void 0,!0)}))},t.prototype.aboveOrEqual=function(t){return null==t?bn(this,qe):new this.Collection(this,(function(){return On(t,void 0,!1)}))},t.prototype.below=function(t){return null==t?bn(this,qe):new this.Collection(this,(function(){return On(void 0,t,!1,!0)}))},t.prototype.belowOrEqual=function(t){return null==t?bn(this,qe):new this.Collection(this,(function(){return On(void 0,t)}))},t.prototype.startsWith=function(t){return"string"!=typeof t?bn(this,Ve):this.between(t,t+Me,!0,!0)},t.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):wn(this,(function(t,a){return 0===t.indexOf(a[0])}),[t],Me)},t.prototype.equalsIgnoreCase=function(t){return wn(this,(function(t,a){return t===a[0]}),[t],"")},t.prototype.anyOfIgnoreCase=function(){var t=nt.apply(et,arguments);return 0===t.length?_n(this):wn(this,(function(t,a){return-1!==a.indexOf(t)}),t,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var t=nt.apply(et,arguments);return 0===t.length?_n(this):wn(this,(function(t,a){return a.some((function(e){return 0===t.indexOf(e)}))}),t,Me)},t.prototype.anyOf=function(){var t=this,e=nt.apply(et,arguments),n=this._cmp;try{e.sort(n)}catch(t){return bn(this,qe)}if(0===e.length)return _n(this);var r=new this.Collection(this,(function(){return On(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var i=0;return r._addAlgorithm((function(cursor,t,r){for(var o=cursor.key;n(o,e[i])>0;)if(++i===e.length)return t(r),!1;return 0===n(o,e[i])||(t((function(){cursor.continue(e[i])})),!1)})),r},t.prototype.notEqual=function(t){return this.inAnyRange([[Le,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var t=nt.apply(et,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return bn(this,qe)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[Le,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,o=this._ascending,l=this._descending,c=this._min,d=this._max;if(0===t.length)return _n(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",xt.InvalidArgument);var h=!e||!1!==e.includeLowers,f=e&&!0===e.includeUppers;var v,m=o;function y(a,b){return m(a[0],b[0])}try{v=t.reduce((function(t,e){for(var i=0,n=t.length;i<n;++i){var o=t[i];if(r(e[0],o[1])<0&&r(e[1],o[0])>0){o[0]=c(o[0],e[0]),o[1]=d(o[1],e[1]);break}}return i===n&&t.push(e),t}),[]),v.sort(y)}catch(t){return bn(this,qe)}var _=0,x=f?function(t){return o(t,v[_][1])>0}:function(t){return o(t,v[_][1])>=0},w=h?function(t){return l(t,v[_][0])>0}:function(t){return l(t,v[_][0])>=0};var O=x,k=new this.Collection(this,(function(){return On(v[0][0],v[v.length-1][1],!h,!f)}));return k._ondirectionchange=function(t){"next"===t?(O=x,m=o):(O=w,m=l),v.sort(y)},k._addAlgorithm((function(cursor,t,e){for(var r=cursor.key;O(r);)if(++_===v.length)return t(e),!1;return!!function(t){return!x(t)&&!w(t)}(r)||(0===n._cmp(r,v[_][1])||0===n._cmp(r,v[_][0])||t((function(){m===o?cursor.continue(v[_][0]):cursor.continue(v[_][1])})),!1)})),k},t.prototype.startsWithAnyOf=function(){var t=nt.apply(et,arguments);return t.every((function(s){return"string"==typeof s}))?0===t.length?_n(this):this.inAnyRange(t.map((function(t){return[t,t+Me]}))):bn(this,"startsWithAnyOf() only works with strings")},t}();function En(t){return me((function(e){return jn(e),t(e.target.error),!1}))}function jn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Pn="storagemutated",In="x-storagemutated-1",Dn=nn(null,Pn),$n=function(){function t(){}return t.prototype._lock=function(){return F(!Jt.global),++this._reculock,1!==this._reculock||Jt.global||(Jt.lockOwnerFor=this),this},t.prototype._unlock=function(){if(F(!Jt.global),0==--this._reculock)for(Jt.global||(Jt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{$e(t[1],t[0])}catch(t){}}return this},t.prototype._locked=function(){return this._reculock&&Jt.lockOwnerFor!==this},t.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(F(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new xt.DatabaseClosed(r);case"MissingAPIError":throw new xt.MissingAPI(r.message,r);default:throw new xt.OpenFailed(r)}if(!this.active)throw new xt.TransactionInactive;return F(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=me((function(n){jn(n),e._reject(t.error)})),t.onabort=me((function(n){jn(n),e.active&&e._reject(new xt.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=me((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&Dn.storagemutated.fire(t.mutatedParts)})),this},t.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return Fe(new xt.ReadOnly("Transaction is readonly"));if(!this.active)return Fe(new xt.TransactionInactive);if(this._locked())return new ee((function(o,l){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,l)},Jt])}));if(n)return Oe((function(){var p=new ee((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return p.finally((function(){return r._unlock()})),p._lib=!0,p}));var p=new ee((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return p._lib=!0,p},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(t){var e=this._root(),n=ee.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new ee((function(t,r){n.then((function(n){return e._waitingQueue.push(me(t.bind(null,n)))}),(function(t){return e._waitingQueue.push(me(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new xt.Abort))},t.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(j(e,t))return e[t];var n=this.schema[t];if(!n)throw new xt.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r},t}();function An(t,e,n,r,o,l,c){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:l,src:(n&&!c?"&":"")+(r?"*":"")+(o?"++":"")+Cn(e)}}function Cn(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Tn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:N(n,(function(t){return[t.name,t]}))}}var Bn=function(t){try{return t.only([[]]),Bn=function(){return[[]]},[[]]}catch(t){return Bn=function(){return Me},Me}};function Rn(t){return null==t?function(){}:"string"==typeof t?function(t){return 1===t.split(".").length?function(e){return e[t]}:function(e){return M(e,t)}}(t):function(e){return M(e,t)}}function Fn(t){return[].slice.call(t)}var Kn=0;function Nn(t){return null==t?":id":"string"==typeof t?t:"["+t.join("+")+"]"}function Mn(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,l=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!l):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!l)}var o=function(t,e){var n=Fn(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((function(table){return e.objectStore(table)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=O(e),o=null==e,l={},c={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:Rn(e)},indexes:Fn(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,c={name:e,compound:O(o),keyPath:o,unique:n,multiEntry:r,extractKey:Rn(o)};return l[Nn(o)]=c,c})),getIndexByKeyPath:function(t){return l[Nn(t)]}};return l[":id"]=c.primaryKey,null!=e&&(l[Nn(e)]=c.primaryKey),c}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),l=o.schema,c=o.hasGetAll,d=l.tables.map((function(t){return function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,o=t.type,l=t.keys,c=t.values,d=t.range;return new Promise((function(t,h){t=me(t);var f=n.objectStore(e),v=null==f.keyPath,m="put"===o||"add"===o;if(!m&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var y,_=(l||c||{length:1}).length;if(l&&c&&l.length!==c.length)throw new Error("Given keys array must have same length as given values array.");if(0===_)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var x=[],w=[],O=0,k=function(t){++O,jn(t)};if("deleteRange"===o){if(4===d.type)return t({numFailures:O,failures:w,results:[],lastResult:void 0});3===d.type?x.push(y=f.clear()):x.push(y=f.delete(r(d)))}else{var S=m?v?[c,l]:[c,null]:[l,null],E=S[0],j=S[1];if(m)for(var i=0;i<_;++i)x.push(y=j&&void 0!==j[i]?f[o](E[i],j[i]):f[o](E[i])),y.onerror=k;else for(i=0;i<_;++i)x.push(y=f[o](E[i])),y.onerror=k}var P=function(e){var n=e.target.result;x.forEach((function(t,i){return null!=t.error&&(w[i]=t.error)})),t({numFailures:O,failures:w,results:"delete"===o?l:x.map((function(t){return t.result})),lastResult:n})};y.onerror=function(t){k(t),P(t)},y.onsuccess=P}))},getMany:function(t){var n=t.trans,r=t.keys;return new Promise((function(t,o){t=me(t);for(var l,c=n.objectStore(e),d=r.length,h=new Array(d),f=0,v=0,m=function(e){var n=e.target;h[n._pos]=n.result,++v===f&&t(h)},y=En(o),i=0;i<d;++i)null!=r[i]&&((l=c.get(r[i]))._pos=i,l.onsuccess=m,l.onerror=y,++f);0===f&&t(h)}))},get:function(t){var n=t.trans,r=t.key;return new Promise((function(t,o){t=me(t);var l=n.objectStore(e).get(r);l.onsuccess=function(e){return t(e.target.result)},l.onerror=En(o)}))},query:function(t){return function(n){return new Promise((function(o,l){o=me(o);var c=n.trans,d=n.values,h=n.limit,f=n.query,v=h===1/0?void 0:h,m=f.index,y=f.range,_=c.objectStore(e),source=m.isPrimaryKey?_:_.index(m.name),x=r(y);if(0===h)return o({result:[]});if(t){var w=d?source.getAll(x,v):source.getAllKeys(x,v);w.onsuccess=function(t){return o({result:t.target.result})},w.onerror=En(l)}else{var O=0,k=d||!("openKeyCursor"in source)?source.openCursor(x):source.openKeyCursor(x),S=[];k.onsuccess=function(t){var cursor=k.result;return cursor?(S.push(d?cursor.value:cursor.primaryKey),++O===h?o({result:S}):void cursor.continue()):o({result:S})},k.onerror=En(l)}}))}}(c),openCursor:function(t){var n=t.trans,o=t.values,l=t.query,c=t.reverse,d=t.unique;return new Promise((function(t,h){t=me(t);var f=l.index,v=l.range,m=n.objectStore(e),source=f.isPrimaryKey?m:m.index(f.name),y=c?d?"prevunique":"prev":d?"nextunique":"next",_=o||!("openKeyCursor"in source)?source.openCursor(r(v),y):source.openKeyCursor(r(v),y);_.onerror=En(h),_.onsuccess=me((function(e){var cursor=_.result;if(cursor){cursor.___id=++Kn,cursor.done=!1;var r=cursor.continue.bind(cursor),o=cursor.continuePrimaryKey;o&&(o=o.bind(cursor));var l=cursor.advance.bind(cursor),c=function(){throw new Error("Cursor not stopped")};cursor.trans=n,cursor.stop=cursor.continue=cursor.continuePrimaryKey=cursor.advance=function(){throw new Error("Cursor not started")},cursor.fail=me(h),cursor.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},cursor.start=function(t){var e=new Promise((function(t,e){t=me(t),_.onerror=En(e),cursor.fail=e,cursor.stop=function(e){cursor.stop=cursor.continue=cursor.continuePrimaryKey=cursor.advance=c,t(e)}})),n=function(){if(_.result)try{t()}catch(t){cursor.fail(t)}else cursor.done=!0,cursor.start=function(){throw new Error("Cursor behind last entry")},cursor.stop()};return _.onsuccess=me((function(t){_.onsuccess=n,n()})),cursor.continue=r,cursor.continuePrimaryKey=o,cursor.advance=l,n(),e},t(cursor)}else t(null)}),h)}))},count:function(t){var n=t.query,o=t.trans,l=n.index,c=n.range;return new Promise((function(t,n){var d=o.objectStore(e),source=l.isPrimaryKey?d:d.index(l.name),h=r(c),f=h?source.count(h):source.count();f.onsuccess=me((function(e){return t(e.target.result)})),f.onerror=En(n)}))}}}(t)})),h={};return d.forEach((function(table){return h[table.name]=table})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!h[t])throw new Error("Table '"+t+"' not found");return h[t]},MIN_KEY:-1/0,MAX_KEY:Bn(e),schema:l}}function Ln(t,e,n,r){var o=n.IDBKeyRange;n.indexedDB;var l=function(t,e){return e.reduce((function(t,e){var n=e.create;return y(y({},t),n(t))}),t)}(Mn(e,o,r),t.dbcore);return{dbcore:l}}function qn(t,e){var n=t._novip,r=e.db,o=Ln(n._middlewares,r,n._deps,e);n.core=o.dbcore,n.tables.forEach((function(table){var t=table.name;n.core.schema.tables.some((function(e){return e.name===t}))&&(table.core=n.core.table(t),n[t]instanceof n.Table&&(n[t].core=table.core))}))}function Vn(t,e,n,r){var o=t._novip;n.forEach((function(t){var n=r[t];e.forEach((function(e){var r=C(e,t);(!r||"value"in r&&void 0===r.value)&&(e===o.Transaction.prototype||e instanceof o.Transaction?D(e,t,{get:function(){return this.table(t)},set:function(e){I(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[t]=new o.Table(t,n))}))}))}function Wn(t,e){var n=t._novip;e.forEach((function(t){for(var e in t)t[e]instanceof n.Table&&delete t[e]}))}function Un(a,b){return a._cfg.version-b._cfg.version}function Hn(t,e,n,r){var o=t._dbSchema,l=t._createTransaction("readwrite",t._storeNames,o);l.create(n),l._completion.catch(r);var c=l._reject.bind(l),d=Jt.transless||Jt;Oe((function(){Jt.trans=l,Jt.transless=d,0===e?(w(o).forEach((function(t){Gn(n,t,o[t].primKey,o[t].indexes)})),qn(t,n),ee.follow((function(){return t.on.populate.fire(l)})).catch(c)):function(t,e,n,r){var o=t._novip,l=[],c=o._versions,d=o._dbSchema=Xn(o,o.idbdb,r),h=!1;function f(){return l.length?ee.resolve(l.shift()(n.idbtrans)).then(f):ee.resolve()}return c.filter((function(t){return t._cfg.version>=e})).forEach((function(t){l.push((function(){var l=d,c=t._cfg.dbschema;Jn(o,l,r),Jn(o,c,r),d=o._dbSchema=c;var f=zn(l,c);f.add.forEach((function(t){Gn(r,t[0],t[1].primKey,t[1].indexes)})),f.change.forEach((function(t){if(t.recreate)throw new xt.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return Yn(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),Yn(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var v=t._cfg.contentUpgrade;if(v&&t._cfg.version>e){qn(o,r),n._memoizedTables={},h=!0;var m=V(c);f.del.forEach((function(table){m[table]=l[table]})),Wn(o,[o.Transaction.prototype]),Vn(o,[o.Transaction.prototype],w(m),m),n.schema=m;var y,_=at(v);_&&ke();var x=ee.follow((function(){if((y=v(n))&&_){var t=Se.bind(null,null);y.then(t,t)}}));return y&&"function"==typeof y.then?ee.resolve(y):x.then((function(){return y}))}})),l.push((function(e){h&&He||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(t._cfg.dbschema,e);Wn(o,[o.Transaction.prototype]),Vn(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),f().then((function(){var t,e;e=r,w(t=d).forEach((function(n){e.db.objectStoreNames.contains(n)||Gn(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,l,n).catch(c)}))}function zn(t,e){var table,n={del:[],add:[],change:[]};for(table in t)e[table]||n.del.push(table);for(table in e){var r=t[table],o=e[table];if(r){var l={name:table,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||r.primKey.auto!==o.primKey.auto&&!Ue)l.recreate=!0,n.change.push(l);else{var c=r.idxByName,d=o.idxByName,h=void 0;for(h in c)d[h]||l.del.push(h);for(h in d){var f=c[h],v=d[h];f?f.src!==v.src&&l.change.push(v):l.add.push(v)}(l.del.length>0||l.add.length>0||l.change.length>0)&&n.change.push(l)}}else n.add.push([table,o])}return n}function Gn(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return Yn(o,t)})),o}function Yn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Xn(t,e,n){var r={};return B(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,l=An(Cn(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),c=[],d=0;d<e.indexNames.length;++d){var h=e.index(e.indexNames[d]);o=h.keyPath;var f=An(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&"string"!=typeof o,!1);c.push(f)}r[t]=Tn(t,l,c)})),r}function Jn(t,e,n){for(var r=t._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var l=o[i],c=n.objectStore(l);r._hasGetAll="getAll"in c;for(var d=0;d<c.indexNames.length;++d){var h=c.indexNames[d],f=c.index(h).keyPath,v="string"==typeof f?f:"["+B(f).join("+")+"]";if(e[l]){var m=e[l].idxByName[v];m&&(m.name=h,delete e[l].idxByName[v],e[l].idxByName[h]=m)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&x.WorkerGlobalScope&&x instanceof x.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var Zn=function(){function t(){}return t.prototype._parseStoresSpec=function(t,e){w(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return An(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),O(r),0===e)})),o=r.shift();if(o.multi)throw new xt.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new xt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new xt.Schema("Index must have a name and cannot be an empty string")})),e[n]=Tn(n,o,r)}}))},t.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?k(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){k(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,Wn(e,[e._allTables,e,e.Transaction.prototype]),Vn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],w(o),o),e._storeNames=w(o),this},t.prototype.upgrade=function(t){return this._cfg.contentUpgrade=At(this._cfg.contentUpgrade||kt,t),this},t}();function Qn(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new jr(Ye,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function er(t){return t&&"function"==typeof t.databases}function nr(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!er(n)&&e!==Ye&&Qn(n,r).delete(e).catch(kt)}function rr(t){return Oe((function(){return Jt.letThrough=!0,t()}))}function ar(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function ir(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?Fe(e.dbOpenError):t}));it&&(e.openCanceller._stackHolder=lt()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new xt.DatabaseClosed("db.open() was cancelled")}var l=e.dbReadyResolve,c=null,d=!1;return ee.race([r,("undefined"==typeof navigator?ee.resolve():ar()).then((function(){return new ee((function(r,l){if(o(),!n)throw new xt.MissingAPI;var h=t.name,f=e.autoSchema?n.open(h):n.open(h,Math.round(10*t.verno));if(!f)throw new xt.MissingAPI;f.onerror=En(l),f.onblocked=me(t._fireOnBlocked),f.onupgradeneeded=me((function(r){if(c=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=jn,c.abort(),f.result.close();var o=n.deleteDatabase(h);o.onsuccess=o.onerror=me((function(){l(new xt.NoSuchDatabase("Database "+h+" doesnt exist"))}))}else{c.onerror=En(l);var v=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;d=v<1,t._novip.idbdb=f.result,Hn(t,v/10,c,l)}}),l),f.onsuccess=me((function(){c=null;var n,o=t._novip.idbdb=f.result,l=B(o.objectStoreNames);if(l.length>0)try{var v=o.transaction(1===(n=l).length?n[0]:n,"readonly");e.autoSchema?function(t,e,n){var r=t._novip;r.verno=e.version/10;var o=r._dbSchema=Xn(0,e,n);r._storeNames=B(e.objectStoreNames,0),Vn(r,[r._allTables],w(o),o)}(t,o,v):(Jn(t,t._dbSchema,v),function(t,e){var n=zn(Xn(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),qn(t,v)}catch(t){}We.push(t),o.onversionchange=me((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),o.onclose=me((function(e){t.on("close").fire(e)})),d&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!er(n)&&e!==Ye&&Qn(n,r).put({name:e}).catch(kt)}(t._deps,h),r()}),l)}))}))]).then((function(){return o(),e.onReadyBeingFired=[],ee.resolve(rr((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(At,kt);return e.onReadyBeingFired=[],ee.resolve(rr((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((function(){return t})).catch((function(n){e.dbOpenError=n;try{c&&c.abort()}catch(t){}return r===e.openCanceller&&t._close(),Fe(n)})).finally((function(){e.openComplete=!0,l()}))}function or(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),l=o.value;return o.done?l:l&&"function"==typeof l.then?l.then(n,r):O(l)?Promise.all(l).then(n,r):n(l)}}return o(e)()}function sr(t,e,n){var i=arguments.length;if(i<2)throw new xt.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];n=r.pop();var o=U(r);return[t,o,n]}function ur(t,e,n,r,o){return ee.resolve().then((function(){var l=Jt.transless||Jt,c=t._createTransaction(e,n,t._dbSchema,r),d={trans:c,transless:l};if(r)c.idbtrans=r.idbtrans;else try{c.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===bt.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return ur(t,e,n,null,o)}))):Fe(r)}var h,f=at(o);f&&ke();var v=ee.follow((function(){if(h=o.call(c,c))if(f){var t=Se.bind(null,null);h.then(t,t)}else"function"==typeof h.next&&"function"==typeof h.throw&&(h=or(h))}),d);return(h&&"function"==typeof h.then?ee.resolve(h).then((function(t){return c.active?t:Fe(new xt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):v.then((function(){return h}))).then((function(t){return r&&c._resolve(),c._completion.then((function(){return t}))})).catch((function(t){return c._reject(t),Fe(t)}))}))}function lr(a,t,e){for(var n=O(a)?a.slice():[a],i=0;i<e;++i)n.push(t);return n}var cr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return y(y({},t),{table:function(e){var table=t.table(e),n=table.schema,r={},o=[];function l(t,e,n){var c=Nn(t),d=r[c]=r[c]||[],h=null==t?0:"string"==typeof t?1:t.length,f=e>0,v=y(y({},n),{isVirtual:f,keyTail:e,keyLength:h,extractKey:Rn(t),unique:!f&&n.unique});(d.push(v),v.isPrimaryKey||o.push(v),h>1)&&l(2===h?t[0]:t.slice(0,h-1),e+1,n);return d.sort((function(a,b){return a.keyTail-b.keyTail})),v}var c=l(n.primaryKey.keyPath,0,n.primaryKey);r[":id"]=[c];for(var d=0,h=n.indexes;d<h.length;d++){var f=h[d];l(f.keyPath,0,f)}function v(e){var n,r,o=e.query.index;return o.isVirtual?y(y({},e),{query:{index:o,range:(n=e.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:lr(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,r),lowerOpen:!0,upper:lr(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,r),upperOpen:!0})}}):e}var m=y(y({},table),{schema:y(y({},n),{primaryKey:c,indexes:o,getIndexByKeyPath:function(t){var e=r[Nn(t)];return e&&e[0]}}),count:function(t){return table.count(v(t))},query:function(t){return table.query(v(t))},openCursor:function(e){var n=e.query.index,r=n.keyTail,o=n.isVirtual,l=n.keyLength;if(!o)return table.openCursor(e);return table.openCursor(v(e)).then((function(cursor){return cursor&&function(cursor){var n=Object.create(cursor,{continue:{value:function(n){null!=n?cursor.continue(lr(n,e.reverse?t.MAX_KEY:t.MIN_KEY,r)):e.unique?cursor.continue(cursor.key.slice(0,l).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,r)):cursor.continue()}},continuePrimaryKey:{value:function(e,n){cursor.continuePrimaryKey(lr(e,t.MAX_KEY,r),n)}},primaryKey:{get:function(){return cursor.primaryKey}},key:{get:function(){var t=cursor.key;return 1===l?t[0]:t.slice(0,l)}},value:{get:function(){return cursor.value}}});return n}(cursor)}))}});return m}})}};function pr(a,b,t,e){return t=t||{},e=e||"",w(a).forEach((function(n){if(j(b,n)){var r=a[n],o=b[n];if("object"==typeof r&&"object"==typeof o&&r&&o){var l=Z(r);l!==Z(o)?t[e+n]=b[n]:"Object"===l?pr(r,o,t,e+n+"."):r!==o&&(t[e+n]=b[n])}else r!==o&&(t[e+n]=b[n])}else t[e+n]=void 0})),w(b).forEach((function(n){j(a,n)||(t[e+n]=b[n])})),t}var dr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return y(y({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey;return y(y({},n),{mutate:function(t){var o=Jt.trans,l=o.table(e).hook,c=l.deleting,d=l.creating,h=l.updating;switch(t.type){case"add":if(d.fire===kt)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"put":if(d.fire===kt&&h.fire===kt)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"delete":if(c.fire===kt)break;return o._promise("readwrite",(function(){return f(t)}),!0);case"deleteRange":if(c.fire===kt)break;return o._promise("readwrite",(function(){return function(t){return v(t.trans,t.range,1e4)}(t)}),!0)}return n.mutate(t);function f(t){var e=Jt.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?y(y({},t),{keys:o}):y({},t)).type&&(t.values=_([],t.values,!0)),t.keys&&(t.keys=_([],t.keys,!0)),function(table,t,e){return"add"===t.type?Promise.resolve([]):table.getMany({trans:t.trans,keys:e,cache:"immutable"})}(n,t,o).then((function(l){var f=o.map((function(n,i){var o=l[i],f={onerror:null,onsuccess:null};if("delete"===t.type)c.fire.call(f,n,o,e);else if("add"===t.type||void 0===o){var v=d.fire.call(f,n,t.values[i],e);null==n&&null!=v&&(n=v,t.keys[i]=n,r.outbound||L(t.values[i],r.keyPath,n))}else{var m=pr(o,t.values[i]),y=h.fire.call(f,m,n,o,e);if(y){var _=t.values[i];Object.keys(y).forEach((function(t){j(_,t)?_[t]=y[t]:L(_,t,y[t])}))}}return f}));return n.mutate(t).then((function(e){for(var n=e.failures,r=e.results,c=e.numFailures,d=e.lastResult,i=0;i<o.length;++i){var h=r?r[i]:o[i],v=f[i];null==h?v.onerror&&v.onerror(n[i]):v.onsuccess&&v.onsuccess("put"===t.type&&l[i]?t.values[i]:h)}return{failures:n,results:r,numFailures:c,lastResult:d}})).catch((function(t){return f.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function v(t,e,o){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:o}).then((function(n){var r=n.result;return f({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:v(t,y(y({},e),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}})}})}};function fr(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],i=0,o=0;i<e.keys.length&&o<t.length;++i)0===dn(e.keys[i],t[o])&&(r.push(n?Y(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch(t){return null}}var vr,mr={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var table=t.table(e);return y(y({},table),{getMany:function(t){if(!t.cache)return table.getMany(t);var e=fr(t.keys,t.trans._cache,"clone"===t.cache);return e?ee.resolve(e):table.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?Y(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),table.mutate(t)}})}}}};function gr(t){return!("from"in t)}var yr=function(t,e){if(!this){var n=new yr;return t&&"d"in t&&k(n,t),n}k(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function _r(t,e,n){var r=dn(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(gr(t))return k(t,{from:e,to:n,d:1});var o=t.l,l=t.r;if(dn(n,t.from)<0)return o?_r(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Or(t);if(dn(e,t.to)>0)return l?_r(l,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Or(t);dn(e,t.from)<0&&(t.from=e,t.l=null,t.d=l?l.d+1:1),dn(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var c=!t.r;o&&!t.l&&xr(t,o),l&&c&&xr(t,l)}}function xr(t,e){gr(e)||function t(e,n){var r=n.from,o=n.to,l=n.l,c=n.r;_r(e,r,o),l&&t(e,l),c&&t(e,c)}(t,e)}function wr(t){var e=gr(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&dn(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||dn(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Or(t){var e,n,r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var l="r"===o?"l":"r",c=y({},t),d=t[o];t.from=d.from,t.to=d.to,t[o]=d[o],c[o]=d[l],t[l]=c,c.d=kr(c)}t.d=kr(t)}function kr(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}P(yr.prototype,((vr={add:function(t){return xr(this,t),this},addKey:function(t){return _r(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return _r(e,t,t)})),this}})[Q]=function(){return wr(this)},vr));var Sr={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new yr(t.MIN_KEY,t.MAX_KEY);return y(y({},t),{table:function(r){var table=t.table(r),o=table.schema,l=o.primaryKey,c=l.extractKey,d=l.outbound,h=y(y({},table),{mutate:function(t){var l=t.trans,c=l.mutatedParts||(l.mutatedParts={}),d=function(t){var n="idb://"+e+"/"+r+"/"+t;return c[n]||(c[n]=new yr)},h=d(""),f=d(":dels"),v=t.type,m="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[],y=m[0],_=m[1],x=t.trans._cache;return table.mutate(t).then((function(t){if(O(y)){"delete"!==v&&(y=t.results),h.addKeys(y);var e=fr(y,x);e||"add"===v||f.addKeys(y),(e||_)&&function(t,e,n,r){function o(e){var o=t(e.name||"");function l(t){return null!=t?e.extractKey(t):null}var c=function(t){return e.multiEntry&&O(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,i){var e=n&&l(n[i]),o=r&&l(r[i]);0!==dn(e,o)&&(null!=e&&c(e),null!=o&&c(o))}))}e.indexes.forEach(o)}(d,o,e,_)}else if(y){var r={from:y.lower,to:y.upper};f.add(r),h.add(r)}else h.add(n),f.add(n),o.indexes.forEach((function(t){return d(t.name).add(n)}));return t}))}}),f=function(e){var n,r,o=e.query,l=o.index,c=o.range;return[l,new yr(null!==(n=c.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=c.upper)&&void 0!==r?r:t.MAX_KEY)]},v={get:function(t){return[l,new yr(t.key)]},getMany:function(t){return[l,(new yr).addKeys(t.keys)]},count:f,query:f,openCursor:f};return w(v).forEach((function(t){h[t]=function(o){var l=Jt.subscr;if(l){var h=function(t){var n="idb://"+e+"/"+r+"/"+t;return l[n]||(l[n]=new yr)},f=h(""),m=h(":dels"),_=v[t](o),x=_[0],w=_[1];if(h(x.name||"").add(w),!x.isPrimaryKey){if("count"!==t){var O="query"===t&&d&&o.values&&table.query(y(y({},o),{values:!1}));return table[t].apply(this,arguments).then((function(e){if("query"===t){if(d&&o.values)return O.then((function(t){var n=t.result;return f.addKeys(n),e}));var n=o.values?e.result.map(c):e.result;o.values?f.addKeys(n):m.addKeys(n)}else if("openCursor"===t){var r=e,l=o.values;return r&&Object.create(r,{key:{get:function(){return m.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return m.addKey(t),t}},value:{get:function(){return l&&f.addKey(r.primaryKey),r.value}}})}return e}))}m.add(n)}}return table[t].apply(this,arguments)}})),h}})}};var Er,jr=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var o=t.dependencies;this._options=n=y({addons:t.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var l=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var c,d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:kt,dbReadyPromise:null,cancelOpen:kt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};d.dbReadyPromise=new ee((function(t){d.dbReadyResolve=t})),d.openCanceller=new ee((function(t,e){d.cancelOpen=e})),this._state=d,this.name=e,this.on=nn(this,"populate","blocked","versionchange","close",{ready:[At,kt]}),this.on.ready.subscribe=R(this.on.ready.subscribe,(function(e){return function(n,o){t.vip((function(){var t=r._state;if(t.openComplete)t.dbOpenError||ee.resolve().then(n),o&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),o&&e(n);else{e(n);var l=r;o||e((function t(){l.on.ready.unsubscribe(n),l.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(c=this,rn(vn.prototype,(function(t,e){this.db=c;var n=Qe,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,table=o.table,l=table.hook.reading.fire;this._ctx={table:table,index:o.index,isPrimKey:!o.index||table.schema.primKey.keyPath&&o.index===table.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:l!==St?l:null}}))),this.Table=function(t){return rn(en.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:nn(null,{creating:[Pt,kt],reading:[Et,St],updating:[Dt,kt],deleting:[It,kt]})}))}(this),this.Transaction=function(t){return rn($n.prototype,(function(e,n,r,o,l){var c=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=nn(this,"complete","error","abort"),this.parent=l||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee((function(t,e){c._resolve=t,c._reject=e})),this._completion.then((function(){c.active=!1,c.on.complete.fire()}),(function(t){var e=c.active;return c.active=!1,c.on.error.fire(t),c.parent?c.parent._reject(t):e&&c.idbtrans&&c.idbtrans.abort(),Fe(t)}))}))}(this),this.Version=function(t){return rn(Zn.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return rn(Sn.prototype,(function(table,e,n){this.db=t,this._ctx={table:table,index:":id"===e?null:e,or:n};var r=t._deps.indexedDB;if(!r)throw new xt.MissingAPI;this._cmp=this._ascending=r.cmp.bind(r),this._descending=function(a,b){return r.cmp(b,a)},this._max=function(a,b){return r.cmp(a,b)>0?a:b},this._min=function(a,b){return r.cmp(a,b)<0?a:b},this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+t.oldVersion/10)})),this._maxKey=Bn(n.IDBKeyRange),this._createTransaction=function(t,e,n,o){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),We.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(cr),this.use(dr),this.use(Sr),this.use(mr),this.vip=Object.create(this,{_vip:{value:!0}}),l.forEach((function(t){return t(r)}))}return t.prototype.version=function(t){if(isNaN(t)||t<.1)throw new xt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new xt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(Un),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||Jt.letThrough||this._vip)?t():new ee((function(t,n){if(e._state.openComplete)return n(new xt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new xt.DatabaseClosed);e.open().catch(kt)}e._state.dbReadyPromise.then(t,n)})).then(t)},t.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var l=this._middlewares[e]||(this._middlewares[e]=[]);return l.push({stack:e,create:n,level:null==r?10:r,name:o}),l.sort((function(a,b){return a.level-b.level})),this},t.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this},t.prototype.open=function(){return ir(this)},t.prototype._close=function(){var t=this._state,e=We.indexOf(this);if(e>=0&&We.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new ee((function(e){t.dbReadyResolve=e})),t.openCanceller=new ee((function(e,n){t.cancelOpen=n}))},t.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new xt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},t.prototype.delete=function(){var t=this,e=arguments.length>0,n=this._state;return new ee((function(r,o){var l=function(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=me((function(){nr(t._deps,t.name),r()})),e.onerror=En(o),e.onblocked=t._fireOnBlocked};if(e)throw new xt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(l):l()}))},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return null!==this.idbdb},t.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},t.prototype.hasFailed=function(){return null!==this._state.dbOpenError},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var t=this;return w(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var t=sr.apply(this,arguments);return this._transaction.apply(this,t)},t.prototype._transaction=function(t,e,n){var r=this,o=Jt.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var l,c,d=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(c=e.map((function(table){var t=table instanceof r.Table?table.name:table;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==t||t===Xe)l=Xe;else{if("rw"!=t&&t!=Je)throw new xt.InvalidArgument("Invalid transaction mode: "+t);l=Je}if(o){if(o.mode===Xe&&l===Je){if(!d)throw new xt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&c.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!d)throw new xt.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),d&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,(function(e,n){n(t)})):Fe(t)}var h=ur.bind(null,this,l,c,o,n);return o?o._promise(l,h,"lock"):Jt.trans?$e(Jt.transless,(function(){return r._whenReady(h)})):this._whenReady(h)},t.prototype.table=function(t){if(!j(this._allTables,t))throw new xt.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},t}(),Pr="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Ir=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})},t.prototype[Pr]=function(){return this},t}();function Dr(t,e){return w(e).forEach((function(n){xr(t[n]||(t[n]=new yr),e[n])})),t}try{Er={indexedDB:x.indexedDB||x.mozIndexedDB||x.webkitIndexedDB||x.msIndexedDB,IDBKeyRange:x.IDBKeyRange||x.webkitIDBKeyRange}}catch(t){Er={indexedDB:null,IDBKeyRange:null}}var $r=jr;function Ar(t){var e=Cr;try{Cr=!0,Dn.storagemutated.fire(t)}finally{Cr=e}}P($r,y(y({},Ot),{delete:function(t){return new $r(t,{addons:[]}).delete()},exists:function(t){return new $r(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return er(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return t!==Ye}))})):Qn(e,n).toCollection().primaryKeys()}($r.dependencies).then(t)}catch(t){return Fe(new xt.MissingAPI)}},defineClass:function(){return function(content){k(this,content)}},ignoreTransaction:function(t){return Jt.trans?$e(Jt.transless,t):t()},vip:rr,async:function(t){return function(){try{var e=or(t.apply(this,arguments));return e&&"function"==typeof e.then?e:ee.resolve(e)}catch(t){return Fe(t)}}},spawn:function(t,e,n){try{var r=or(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:ee.resolve(r)}catch(t){return Fe(t)}},currentTransaction:{get:function(){return Jt.trans||null}},waitFor:function(t,e){var n=ee.resolve("function"==typeof t?$r.ignoreTransaction(t):t).timeout(e||6e4);return Jt.trans?Jt.trans.waitFor(n):n},Promise:ee,debug:{get:function(){return it},set:function(t){ot(t,"dexie"===t?function(){return!0}:Ge)}},derive:$,extend:k,props:P,override:R,Events:nn,on:Dn,liveQuery:function(t){return new Ir((function(e){var n=at(t);var r=!1,o={},l={},c={get closed(){return r},unsubscribe:function(){r=!0,Dn.storagemutated.unsubscribe(v)}};e.start&&e.start(c);var d=!1,h=!1;function f(){return w(l).some((function(t){return o[t]&&function(t,e){var n=wr(e),r=n.next();if(r.done)return!1;for(var a=r.value,o=wr(t),l=o.next(a.from),b=l.value;!r.done&&!l.done;){if(dn(b.from,a.to)<=0&&dn(b.to,a.from)>=0)return!0;dn(a.from,b.from)<0?a=(r=n.next(b.from)).value:b=(l=o.next(a.from)).value}return!1}(o[t],l[t])}))}var v=function(t){Dr(o,t),f()&&m()},m=function(){if(!d&&!r){o={};var y={},_=function(e){n&&ke();var r=function(){return Oe(t,{subscr:e,trans:null})},o=Jt.trans?$e(Jt.transless,r):r();return n&&o.then(Se,Se),o}(y);h||(Dn(Pn,v),h=!0),d=!0,Promise.resolve(_).then((function(t){d=!1,r||(f()?m():(o={},l=y,e.next&&e.next(t)))}),(function(t){d=!1,e.error&&e.error(t),c.unsubscribe()}))}};return m(),c}))},extendObservabilitySet:Dr,getByKeyPath:M,setByKeyPath:L,delByKeyPath:function(t,e){"string"==typeof e?L(t,e,void 0):"length"in e&&[].map.call(e,(function(e){L(t,e,void 0)}))},shallowClone:V,deepClone:Y,getObjectDiff:pr,cmp:dn,asap:K,minKey:Le,addons:[],connections:We,errnames:bt,dependencies:Er,semVer:Ne,version:Ne.split(".").map((function(t){return parseInt(t)})).reduce((function(p,t,i){return p+t/Math.pow(10,2*i)}))})),$r.maxKey=Bn($r.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Dn(Pn,(function(t){var e;Cr||(Ue?(e=document.createEvent("CustomEvent")).initCustomEvent(In,!0,!0,t):e=new CustomEvent(In,{detail:t}),Cr=!0,dispatchEvent(e),Cr=!1)})),addEventListener(In,(function(t){var e=t.detail;Cr||Ar(e)})));var Cr=!1;if("undefined"!=typeof BroadcastChannel){var Tr=new BroadcastChannel(In);Dn(Pn,(function(t){Cr||Tr.postMessage(t)})),Tr.onmessage=function(t){t.data&&Ar(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Dn(Pn,(function(t){try{Cr||("undefined"!=typeof localStorage&&localStorage.setItem(In,JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&_([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach((function(e){return e.postMessage({type:In,changedParts:t})})))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(t){if(t.key===In){var data=JSON.parse(t.newValue);data&&Ar(data.changedParts)}}));var Br=self.document&&navigator.serviceWorker;Br&&Br.addEventListener("message",(function(t){var data=t.data;data&&data.type===In&&Ar(data.changedParts)}))}function Rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}ee.rejectionMapper=function(t,e){if(!t||t instanceof vt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!wt[t.name])return t;var n=new wt[t.name](e||t.message,t);return"stack"in t&&D(n,"stack",{get:function(){return this.inner.stack}}),n},ot(it,Ge);var Fr=function(t){Object(l.a)(n,t);var e=Rr(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this,"Krosmaker")).version(1).stores({krosmasters:"id, data, background, figurine"}),t.krosmasters=t.table("krosmasters"),t}return n}(jr),Kr=n(359),Nr=n(510),Mr=n.n(Nr),Lr=n(389),qr=/^(-|[0-9]{0,1})$/g,Vr=/(.*\.png)|(data:image\/(png|jpe?g);base64,([A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?)/g,Wr={type:"object",optional:!0,props:{canvasData:{type:"object",optional:!0,props:{left:{type:"number",optional:!0},top:{type:"number",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0},naturalWidth:{type:"number",optional:!0},naturalHeight:{type:"number",optional:!0}}},croppingData:{type:"object",optional:!0,props:{x:{type:"number",optional:!0},y:{type:"number",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0},rotate:{type:"number",optional:!0},scaleX:{type:"number",optional:!0},scaleY:{type:"number",optional:!0}}}}},Ur={id:{type:"string"},data:{type:"object",props:{name:{type:"string"},type:{type:"enum",values:["common","elite","minion"]},comment:{type:"string",default:""},version:{type:"string",default:""},mp:{type:"string",pattern:qr},hp:{type:"string",pattern:/^(-|[0-9]{0,2})$/g},ap:{type:"string",pattern:qr},powers:{type:"array",empty:!0,min:0,max:3,items:{type:"object",props:{name:{type:"string"},description:{type:"string"}}}},spells:{type:"array",empty:!0,min:0,max:3,items:{type:"object",props:{name:{type:"string"},description:{type:"string"},damage:{type:"object",props:{element:{type:"enum",values:[Lr.a.NONE,Lr.a.AIR,Lr.a.EARTH,Lr.a.FIRE,Lr.a.WATER]},value:{type:"number",integer:!0,min:0,max:9}}},range:{type:"object",props:{type:{type:"enum",values:[Lr.c.REGULAR,Lr.c.SPECIAL]},value:{type:"array",min:2,max:2,items:{type:"number",integer:!0,min:0,max:9},custom:function(t,e,n,r){t&&2===t.length&&(t[0]>t[1]&&e.push({type:"rangeMinMax",field:r,message:"Minimum spell range cannot be higher than maximum spell range in {field}."}));return t}}}},limit:{type:"object",props:{type:{type:"enum",values:[Lr.b.NONE,Lr.b.TARGET,Lr.b.TURN]},value:{type:"number",integer:!0,min:0,max:9}}}}}}},custom:function(t,e,n,r){var o,l,c="minion"===(null==t?void 0:t.type)?1:3,d=((null===(o=null==t?void 0:t.spells)||void 0===o?void 0:o.length)||0)+((null===(l=null==t?void 0:t.powers)||void 0===l?void 0:l.length)||0);return d>c&&e.push({type:"maxAbilities",field:"data",message:"This card cannot have more than ".concat(c," abilities. Found ").concat(d,".")}),t}},background:{type:"object",props:{original:{type:"string",pattern:Vr},cropped:{type:"string",pattern:Vr},useCropped:{type:"boolean"},cropper:Wr}},figurine:{type:"object",props:{original:{type:"string",pattern:Vr},cropped:{type:"string",pattern:Vr},useCropped:{type:"boolean"},height:{type:"number"},offsetX:{type:"number"},offsetY:{type:"number"},cropper:Wr}}},Hr=new Mr.a({useNewCustomCheckerFunction:!0}).compile(Ur);function zr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Gr=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},Yr=function(t){Object(l.a)(n,t);var e=zr(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).database=new Fr,t.isSaving=!1,t.overrideDialog=!1,t.isLoading=!1,t.search="",t.loadingHeaders=[{text:t.$i18n.t("card.edit.krosmaster"),align:"start",value:"name"},{text:t.$i18n.t("common.load"),sortable:!1,filterable:!1,value:"load",width:15},{text:t.$i18n.t("common.export"),sortable:!1,filterable:!1,value:"export",width:15},{text:t.$i18n.t("common.delete"),sortable:!1,filterable:!1,value:"delete",width:15}],t.krosmasterNames=[],t.loadingDialog=!1,t.noDataDialog=!1,t.krosmasterToDelete="",t.deleteDialog=!1,t.isExporting=!1,t.importWarningDialog=!1,t.loadWarningDialog=!1,t.validationErrorDialog=!1,t.validationErrorMessage="",t.validationErrors=[],t.resetWarningDialog=!1,t}return Object(o.a)(n,[{key:"fileName",get:function(){return this.$store.state.export.fileName},set:function(t){this.$store.commit("export/setFileName",t)}},{key:"currentKrosmasterId",get:function(){return this.fileName||this.$store.state.krosmaster.name||""}},{key:"isDirty",get:function(){return this.$store.state.export.isDirty}},{key:"onSave",value:function(){var t=this;this.isSaving=!0;this.serializeKrosmaster();this.database.krosmasters.get(this.currentKrosmasterId).then((function(e){null==e?t.saveKrosmaster():(t.overrideDialog=!0,t.isSaving=!1)}))}},{key:"cancelSaving",value:function(){this.isSaving=!1,this.overrideDialog=!1}},{key:"saveKrosmaster",value:function(){var t=this;this.isSaving=!0,this.overrideDialog=!1;var e=this.serializeKrosmaster();this.database.krosmasters.put(e).then((function(){t.isSaving=!1,t.$store.commit("export/setDirty",!1)})),this.$store.commit("notification/add",{message:"card.edit.notification.save",parameters:{name:e.id}})}},{key:"serializeKrosmaster",value:function(){return{id:this.currentKrosmasterId,data:this.$store.state.krosmaster,background:this.$store.state.background,figurine:this.$store.state.figurine}}},{key:"cancelLoading",value:function(){this.isLoading=!1,this.loadingDialog=!1}},{key:"onLoad",value:function(){this.isDirty?this.loadWarningDialog=!0:this.showLoadingDialog()}},{key:"acceptLoadSaveAndOverride",value:function(){this.saveKrosmaster(),this.acceptLoadOverride()}},{key:"acceptLoadOverride",value:function(){this.loadWarningDialog=!1,this.showLoadingDialog()}},{key:"showLoadingDialog",value:function(){var t=this;this.isLoading=!0,this.database.krosmasters.orderBy("id").primaryKeys().then((function(e){e&&e.length?(t.krosmasterNames=e.map((function(t){return{name:t}})),t.loadingDialog=!0):(t.noDataDialog=!0,t.isLoading=!1)}))}},{key:"loadKrosmaster",value:function(t){var e=this;this.isLoading=!0,this.database.krosmasters.get(t).then((function(t){null!=t&&e.replaceKrosmaster(t),e.loadingDialog=!1,e.isLoading=!1,e.$store.commit("notification/add",{message:"card.edit.notification.load",parameters:{name:null==t?void 0:t.id}})}))}},{key:"exportKrosmaster",value:function(t){var e=this;this.database.krosmasters.get(t).then((function(t){null!=t&&(e.exportKrosmasterFile(t),e.$store.commit("notification/add",{message:"card.edit.notification.export",parameters:{name:t.id}}))}))}},{key:"replaceKrosmaster",value:function(t){this.fileName=t.id===t.data.name?"":t.id,this.$store.commit("krosmaster/replace",t.data),this.$store.commit("background/replace",t.background),this.$store.commit("figurine/replace",t.figurine),this.doAfterCardChange()}},{key:"doAfterCardChange",value:function(){Kr.a.$emit("card-load"),this.$store.commit("sidebar/reset"),this.$store.commit("export/setDirty",!1)}},{key:"onDelete",value:function(t){this.krosmasterToDelete=t,this.deleteDialog=!0}},{key:"deleteKrosmaster",value:function(){var t=this.krosmasterToDelete;this.krosmasterNames=this.krosmasterNames.filter((function(e){return e.name!==t})),this.database.krosmasters.delete(t),this.krosmasterToDelete="",this.deleteDialog=!1,this.$store.commit("notification/add",{message:"card.edit.notification.delete",parameters:{name:t},color:"error"})}},{key:"onExport",value:function(){this.isExporting=!0;var t=this.serializeKrosmaster();this.exportKrosmasterFile(t),this.$store.commit("notification/add",{message:"card.edit.notification.export",parameters:{name:this.currentKrosmasterId||"Krosmaker"}})}},{key:"exportKrosmasterFile",value:function(t){var e=JSON.stringify(t,void 0,2);Object(m.saveAs)(new Blob([e],{type:"application/json"}),"".concat(t.id||"Krosmaker",".json")),this.isExporting=!1}},{key:"fileInput",get:function(){return this.$refs.fileInput}},{key:"onImport",value:function(){this.isDirty?this.importWarningDialog=!0:this.showImportFileChooser()}},{key:"acceptImportSaveAndOverride",value:function(){this.saveKrosmaster(),this.acceptImportOverride()}},{key:"acceptImportOverride",value:function(){this.importWarningDialog=!1,this.showImportFileChooser()}},{key:"showImportFileChooser",value:function(){this.fileInput.value="",this.fileInput.click()}},{key:"onImportFile",value:function(t){var e,n,r=this,o=t,l=(null===(e=o.target)||void 0===e?void 0:e.files)||(null===(n=null==o?void 0:o.dataTransfer)||void 0===n?void 0:n.files);if(null!=l&&l.length>0){var c=l[0],d=new FileReader;d.onload=function(t){var e,n=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.result;if(n)try{var o=JSON.parse(n),l=function(t){var e=Hr(t);return!0===e?[]:e}(o);0===l.length?(r.replaceKrosmaster(o),r.$store.commit("notification/add",{message:"card.edit.notification.import"})):r.showValidationErrorDialog("card.edit.invalidFileError",l)}catch(t){console.error("Unable to decode imported file.",t),r.showValidationErrorDialog("card.edit.fileFormatError")}},d.readAsText(c)}}},{key:"showValidationErrorDialog",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.validationErrorMessage=t,this.validationErrors=e,this.validationErrorDialog=!0}},{key:"onReset",value:function(){this.isDirty?this.resetWarningDialog=!0:this.resetCard()}},{key:"resetCard",value:function(){this.fileName="",this.$store.commit("krosmaster/reset"),this.$store.commit("background/reset"),this.$store.commit("figurine/reset"),this.doAfterCardChange(),this.resetWarningDialog=!1}},{key:"acceptSaveAndReset",value:function(){this.saveKrosmaster(),this.resetCard()}}]),n}(f.a),Xr=Yr=Gr([v.a],Yr),Jr=(n(511),n(513),n(74)),Zr=n(156),Qr=n.n(Zr),ta=n(333),ea=n(148),na=n(122),ra=n(601),aa=(n(10),n(14),n(6)),ia=n(3),oa=(n(25),n(52),n(211),n(9),n(41),n(40),n(18),n(37),n(515),n(38)),sa=(n(35),n(1));function ua(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function la(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ua(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ua(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var ca=f.a.extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:sa.E},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},customGroup:{type:Function,default:sa.v},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:sa.D},serverItemsLength:{type:Number,default:-1}},data:function(){var t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(sa.G)(this.sortBy),sortDesc:Object(sa.G)(this.sortDesc),groupBy:Object(sa.G)(this.groupBy),groupDesc:Object(sa.G)(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(t=Object.assign(t,this.options));var e,n,r=t,o=r.sortBy,l=r.sortDesc,c=r.groupBy,d=r.groupDesc,h=o.length-l.length,f=c.length-d.length;h>0&&(e=t.sortDesc).push.apply(e,Object(oa.a)(Object(sa.m)(h,!1)));f>0&&(n=t.groupDesc).push.apply(n,Object(oa.a)(Object(sa.m)(f,!1)));return{internalOptions:t}},computed:{itemsLength:function(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var t=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(t=this.customFilter(t,this.search)),t},computedItems:function(){var t=this.filteredItems.slice();return!this.disableSort&&this.serverItemsLength<=0&&(t=this.sortItems(t)),!this.disablePagination&&this.serverItemsLength<=0&&(t=this.paginateItems(t)),t},groupedItems:function(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps:function(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions:function(){return la({},this.options)}},watch:{computedOptions:{handler:function(t,e){Object(sa.j)(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler:function(t,e){Object(sa.j)(t,e)||this.$emit("update:options",t)},deep:!0,immediate:!0},page:function(t){this.updateOptions({page:t})},"internalOptions.page":function(t){this.$emit("update:page",t)},itemsPerPage:function(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage":function(t){this.$emit("update:items-per-page",t)},sortBy:function(t){this.updateOptions({sortBy:Object(sa.G)(t)})},"internalOptions.sortBy":function(t,e){!Object(sa.j)(t,e)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc:function(t){this.updateOptions({sortDesc:Object(sa.G)(t)})},"internalOptions.sortDesc":function(t,e){!Object(sa.j)(t,e)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy:function(t){this.updateOptions({groupBy:Object(sa.G)(t)})},"internalOptions.groupBy":function(t,e){!Object(sa.j)(t,e)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc:function(t){this.updateOptions({groupDesc:Object(sa.G)(t)})},"internalOptions.groupDesc":function(t,e){!Object(sa.j)(t,e)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort:function(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort":function(t){this.$emit("update:multi-sort",t)},mustSort:function(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort":function(t){this.$emit("update:must-sort",t)},pageCount:{handler:function(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler:function(t){this.$emit("current-items",t)},immediate:!0},pagination:{handler:function(t,e){Object(sa.j)(t,e)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle:function(t,e,n,r,o,l){var c=e.slice(),desc=n.slice(),d=c.findIndex((function(e){return e===t}));return d<0?(l||(c=[],desc=[]),c.push(t),desc.push(!1)):d>=0&&!desc[d]?desc[d]=!0:o?desc[d]=!1:(c.splice(d,1),desc.splice(d,1)),Object(sa.j)(c,e)&&Object(sa.j)(desc,n)||(r=1),{by:c,desc:desc,page:r}},group:function(t){var e=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),n=e.by,r=e.desc,o=e.page;this.updateOptions({groupBy:n,groupDesc:r,page:o})},sort:function(t){if(Array.isArray(t))return this.sortArray(t);var e=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort),n=e.by,r=e.desc,o=e.page;this.updateOptions({sortBy:n,sortDesc:r,page:o})},sortArray:function(t){var e=this,n=t.map((function(s){var i=e.internalOptions.sortBy.findIndex((function(t){return t===s}));return i>-1&&e.internalOptions.sortDesc[i]}));this.updateOptions({sortBy:t,sortDesc:n})},updateOptions:function(t){this.internalOptions=la(la(la({},this.internalOptions),t),{},{page:this.serverItemsLength<0?Math.max(1,Math.min(t.page||this.internalOptions.page,this.pageCount)):t.page||this.internalOptions.page})},sortItems:function(t){var e=this.internalOptions.sortBy,n=this.internalOptions.sortDesc;return this.internalOptions.groupBy.length&&(e=[].concat(Object(oa.a)(this.internalOptions.groupBy),Object(oa.a)(e)),n=[].concat(Object(oa.a)(this.internalOptions.groupDesc),Object(oa.a)(n))),this.customSort(t,e,n,this.locale)},groupItems:function(t){return this.customGroup(t,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems:function(t){return-1===this.serverItemsLength&&t.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,this.internalOptions.page-1)),t.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}}),pa=(n(165),n(39),n(27),n(68),n(69),n(517),n(458)),da=n(331),ha=n(332),fa=f.a.extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:function(){return[5,10,15,-1]}},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon:function(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions:function(){var t=this;return this.itemsPerPageOptions.map((function(option){return"object"===Object(h.a)(option)?option:t.genDataItemsPerPageOption(option)}))}},methods:{updateOptions:function(t){this.$emit("update:options",Object.assign({},this.options,t))},onFirstPage:function(){this.updateOptions({page:1})},onPreviousPage:function(){this.updateOptions({page:this.options.page-1})},onNextPage:function(){this.updateOptions({page:this.options.page+1})},onLastPage:function(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage:function(t){this.updateOptions({itemsPerPage:t,page:1})},genDataItemsPerPageOption:function(option){return{text:-1===option?this.$vuetify.lang.t(this.itemsPerPageAllText):String(option),value:option}},genItemsPerPageSelect:function(){var t=this.options.itemsPerPage,e=this.computedDataItemsPerPageOptions;return e.length<=1?null:(e.find((function(e){return e.value===t}))||(t=e[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(pa.a,{attrs:{"aria-label":this.itemsPerPageText},props:{disabled:this.disableItemsPerPage,items:e,value:t,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo:function(){var t=[""];if(this.pagination.itemsLength&&this.pagination.itemsPerPage){var e=this.pagination.itemsLength,n=this.pagination.pageStart+1,r=e<this.pagination.pageStop||this.pagination.pageStop<0?e:this.pagination.pageStop;t=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:n,pageStop:r,itemsLength:e})]:[this.$vuetify.lang.t(this.pageText,n,r,e)]}return this.$createElement("div",{class:"v-data-footer__pagination"},t)},genIcon:function(t,e,label,n){return this.$createElement(ha.a,{props:{disabled:e||this.disablePagination,icon:!0,text:!0},on:{click:t},attrs:{"aria-label":label}},[this.$createElement(da.a,n)])},genIcons:function(){var t=[],e=[];return t.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),e.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(t.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),e.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},t),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},e)]}},render:function(){return this.$createElement("div",{staticClass:"v-data-footer"},[this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),va=n(386),ma=n(22),ga=n(7),ya=n(5);function ba(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _a(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ba(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ba(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var xa=Object(ga.a)(va.a,ma.a).extend({name:"v-data-iterator",props:_a(_a({},ca.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:_a(_a({},va.a.options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[]}},computed:{everyItem:function(){var t=this;return!!this.selectableItems.length&&this.selectableItems.every((function(i){return t.isSelected(i)}))},someItems:function(){var t=this;return this.selectableItems.some((function(i){return t.isSelected(i)}))},sanitizedFooterProps:function(){return Object(sa.d)(this.footerProps)},selectableItems:function(){var t=this;return this.internalCurrentItems.filter((function(e){return t.isSelectable(e)}))}},watch:{value:{handler:function(t){var e=this;this.selection=t.reduce((function(t,n){return t[Object(sa.p)(n,e.itemKey)]=n,t}),{})},immediate:!0},selection:function(t,e){Object(sa.j)(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler:function(t){var e=this;this.expansion=t.reduce((function(t,n){return t[Object(sa.p)(n,e.itemKey)]=!0,t}),{})},immediate:!0},expansion:function(t,e){var n=this;if(!Object(sa.j)(t,e)){var r=Object.keys(t).filter((function(e){return t[e]})),o=r.length?this.items.filter((function(i){return r.includes(String(Object(sa.p)(i,n.itemKey)))})):[];this.$emit("update:expanded",o)}}},created:function(){var t=this;[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]].forEach((function(e){var n=Object(aa.a)(e,2),r=n[0],o=n[1];t.$attrs.hasOwnProperty(r)&&Object(ya.a)(r,o,t)}));["expand","content-class","content-props","content-tag"].forEach((function(e){t.$attrs.hasOwnProperty(e)&&Object(ya.e)(e)}))},methods:{toggleSelectAll:function(t){for(var e=Object.assign({},this.selection),i=0;i<this.selectableItems.length;i++){var n=this.selectableItems[i];if(this.isSelectable(n)){var r=Object(sa.p)(n,this.itemKey);t?e[r]=n:delete e[r]}}this.selection=e,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:t})},isSelectable:function(t){return!1!==Object(sa.p)(t,this.selectableKey)},isSelected:function(t){return!!this.selection[Object(sa.p)(t,this.itemKey)]||!1},select:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(t)){var r=this.singleSelect?{}:Object.assign({},this.selection),o=Object(sa.p)(t,this.itemKey);if(e?r[o]=t:delete r[o],this.singleSelect&&n){var l=Object.keys(this.selection),c=l.length&&Object(sa.p)(this.selection[l[0]],this.itemKey);c&&c!==o&&this.$emit("item-selected",{item:this.selection[c],value:!1})}this.selection=r,n&&this.$emit("item-selected",{item:t,value:e})}},isExpanded:function(t){return this.expansion[Object(sa.p)(t,this.itemKey)]||!1},expand:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.singleExpand?{}:Object.assign({},this.expansion),r=Object(sa.p)(t,this.itemKey);e?n[r]=!0:delete n[r],this.expansion=n,this.$emit("item-expanded",{item:t,value:e})},createItemProps:function(t){var e=this;return{item:t,select:function(n){return e.select(t,n)},isSelected:this.isSelected(t),expand:function(n){return e.expand(t,n)},isExpanded:this.isExpanded(t),isMobile:this.isMobile}},genEmptyWrapper:function(content){return this.$createElement("div",content)},genEmpty:function(t,e){if(0===t&&this.loading){var n=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(n)}if(0===t){var r=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(r)}if(0===e){var o=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(o)}return null},genItems:function(t){var e=this,n=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return n?[n]:this.$scopedSlots.default?this.$scopedSlots.default(_a(_a({},t),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,expand:this.expand})):this.$scopedSlots.item?t.items.map((function(t){return e.$scopedSlots.item(e.createItemProps(t))})):[]},genFooter:function(t){if(this.hideDefaultFooter)return null;var data={props:_a(_a({},this.sanitizedFooterProps),{},{options:t.options,pagination:t.pagination}),on:{"update:options":function(e){return t.updateOptions(e)}}},e=Object(sa.q)("footer.",this.$scopedSlots);return this.$createElement(fa,_a({scopedSlots:e},data))},genDefaultScopedSlot:function(t){var e=_a(_a({},t),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(sa.s)(this,"header",e,!0),this.genItems(t),this.genFooter(t),Object(sa.s)(this,"footer",e,!0)])}},render:function(){var t=this;return this.$createElement(ca,{props:this.$props,on:{"update:options":function(e,n){return!Object(sa.j)(e,n)&&t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(sa.j)(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)},"page-count":function(e){return t.$emit("page-count",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),wa=(n(519),n(551)),Oa=n(447),ka=n(98);function Sa(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var Ea=Object(ga.a)().extend({directives:{ripple:ka.a},props:{headers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1}}},sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll:function(){var t=this,data={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems},on:{input:function(e){return t.$emit("toggle-select-all",e)}}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](data):this.$createElement(Oa.a,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Sa(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Sa(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({staticClass:"v-data-table__checkbox"},data))},genSortIcon:function(){return this.$createElement(da.a,{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}}),ja=Object(ga.a)(Ea).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip:function(t){var e=this,n=[t.item.text],r=this.options.sortBy.findIndex((function(e){return e===t.item.value})),o=r>=0,l=this.options.sortDesc[r];return n.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:o,asc:o&&!l,desc:o&&l}},[this.genSortIcon()])),this.$createElement(wa.a,{staticClass:"sortable",on:{click:function(n){n.stopPropagation(),e.$emit("sort",t.item.value)}}},n)},genSortSelect:function(t){var e=this;return this.$createElement(pa.a,{props:{label:this.$vuetify.lang.t(this.sortByText),items:t,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:function(t){return e.$emit("sort",t)}},scopedSlots:{selection:function(t){return e.genSortChip(t)}}})}},render:function(t){var e=[],header=this.headers.find((function(t){return"data-table-select"===t.value}));header&&!this.singleSelect&&e.push(this.$createElement("div",{class:["v-data-table-header-mobile__select"].concat(Object(oa.a)(Object(sa.G)(header.class))),attrs:{width:header.width}},[this.genSelectAll()]));var n=this.headers.filter((function(t){return!1!==t.sortable&&"data-table-select"!==t.value})).map((function(t){return{text:t.text,value:t.value}}));!this.disableSort&&n.length&&e.push(this.genSortSelect(n));var th=t("th",[t("div",{staticClass:"v-data-table-header-mobile__wrapper"},e)]),tr=t("tr",[th]);return t("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[tr])}}),Pa=Object(ga.a)(Ea).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle:function(header){var t=this;return this.$createElement("span",{on:{click:function(e){e.stopPropagation(),t.$emit("group",header.value)}}},["group"])},getAria:function(t,e){var n=this,r=function(t){return n.$vuetify.lang.t("$vuetify.dataTable.ariaLabel.".concat(t))},o="none",l=[r("sortNone"),r("activateAscending")];return t?(e?(o="descending",l=[r("sortDescending"),r(this.options.mustSort?"activateAscending":"activateNone")]):(o="ascending",l=[r("sortAscending"),r("activateDescending")]),{ariaSort:o,ariaLabel:l.join(" ")}):{ariaSort:o,ariaLabel:l.join(" ")}},genHeader:function(header){var t=this,data={attrs:{role:"columnheader",scope:"col","aria-label":header.text||""},style:{width:Object(sa.g)(header.width),minWidth:Object(sa.g)(header.width)},class:["text-".concat(header.align||"start")].concat(Object(oa.a)(Object(sa.G)(header.class)),[header.divider&&"v-data-table__divider"]),on:{}},e=[];if("data-table-select"===header.value&&!this.singleSelect)return this.$createElement("th",data,[this.genSelectAll()]);if(e.push(this.$scopedSlots[header.value]?this.$scopedSlots[header.value]({header:header}):this.$createElement("span",[header.text])),!this.disableSort&&(header.sortable||!header.hasOwnProperty("sortable"))){data.on.click=function(){return t.$emit("sort",header.value)};var n=this.options.sortBy.findIndex((function(t){return t===header.value})),r=n>=0,o=this.options.sortDesc[n];data.class.push("sortable");var l=this.getAria(r,o),c=l.ariaLabel,d=l.ariaSort;data.attrs["aria-label"]+="".concat(header.text?": ":"").concat(c),data.attrs["aria-sort"]=d,r&&(data.class.push("active"),data.class.push(o?"desc":"asc")),"end"===header.align?e.unshift(this.genSortIcon()):e.push(this.genSortIcon()),this.options.multiSort&&r&&e.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(n+1)]))}return this.showGroupBy&&!1!==header.groupable&&e.push(this.genGroupByToggle(header)),this.$createElement("th",data,e)}},render:function(){var t=this;return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map((function(header){return t.genHeader(header)})))])}});var Ia=n(70);function Da(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $a(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Da(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Da(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Aa=f.a.extend({name:"v-data-table-header",functional:!0,props:$a($a({},Ea.options.props),{},{mobile:Boolean}),render:function(t,e){var n=e.props,data=e.data,r=e.slots;!function(data){if(data.model&&data.on&&data.on.input)if(Array.isArray(data.on.input)){var i=data.on.input.indexOf(data.model.callback);i>-1&&data.on.input.splice(i,1)}else delete data.on.input}(data);var o=function(t,e){var n=[];for(var slot in t)t.hasOwnProperty(slot)&&n.push(e("template",{slot:slot},t[slot]));return n}(r(),t);return data=Object(Ia.a)(data,{props:n}),n.mobile?t(ja,data,o):t(Pa,data,o)}}),Ca=f.a.extend({name:"row",functional:!0,props:{headers:Array,item:Object,rtl:Boolean},render:function(t,e){var n=e.props,r=e.slots,data=e.data,o=r(),l=n.headers.map((function(header){var e,r=[],l=Object(sa.p)(n.item,header.value),c=header.value,d=data.scopedSlots&&data.scopedSlots[c],h=o[c];d?r.push(d({item:n.item,header:header,value:l})):h?r.push(h):r.push(null==l?l:String(l));var f="text-".concat(header.align||"start");return t("td",{class:(e={},Object(ia.a)(e,f,!0),Object(ia.a)(e,"v-data-table__divider",header.divider),e)},r)}));return t("tr",data,l)}}),Ta=f.a.extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render:function(t,e){var n=e.slots,r=e.props,o=n(),l=[];return o["column.header"]?l.push(t("tr",{staticClass:r.headerClass},o["column.header"])):o["row.header"]&&l.push.apply(l,Object(oa.a)(o["row.header"])),o["row.content"]&&r.value&&l.push.apply(l,Object(oa.a)(o["row.content"])),o["column.summary"]?l.push(t("tr",{staticClass:r.summaryClass},o["column.summary"])):o["row.summary"]&&l.push.apply(l,Object(oa.a)(o["row.summary"])),l}});n(521);function Ba(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var Ra=Object(ga.a)(ma.a).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ba(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Ba(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(sa.g)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}});function Fa(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Ka(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Fa(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Fa(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Na=f.a.extend({name:"row",functional:!0,props:{headers:Array,hideDefaultHeader:Boolean,item:Object,rtl:Boolean},render:function(t,e){var n=e.props,r=e.slots,data=e.data,o=r(),l=n.headers.map((function(header){var e=[],r=Object(sa.p)(n.item,header.value),l=header.value,c=data.scopedSlots&&data.scopedSlots[l],d=o[l];c?e.push(c({item:n.item,header:header,value:r})):d?e.push(d):e.push(null==r?r:String(r));var h=[t("div",{staticClass:"v-data-table__mobile-row__cell"},e)];return"dataTableSelect"===header.value||n.hideDefaultHeader||h.unshift(t("div",{staticClass:"v-data-table__mobile-row__header"},[header.text])),t("td",{class:{"v-data-table__mobile-row":!0}},h)}));return t("tr",Ka(Ka({},data),{},{staticClass:"v-data-table__mobile-table-row"}),l)}}),Ma=n(124);function La(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function qa(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?La(Object(source),!0).forEach((function(e){Object(ia.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):La(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Va(t,e,filter){return function(header){var n=Object(sa.p)(t,header.value);return header.filter?header.filter(n,e,t):filter(n,e,t)}}var Wa=Object(ga.a)(xa,Ma.a).extend({name:"v-data-table",directives:{ripple:ka.a},props:{headers:{type:Array,default:function(){return[]}},showSelect:Boolean,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:sa.k},itemClass:{type:[String,Function],default:function(){return""}},loaderHeight:{type:[Number,String],default:4}},data:function(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders:function(){var t=this;if(!this.headers)return[];var e=this.headers.filter((function(e){return void 0===e.value||!t.internalGroupBy.find((function(t){return t===e.value}))})),n={text:"",sortable:!1,width:"1px"};if(this.showSelect){var r=e.findIndex((function(t){return"data-table-select"===t.value}));r<0?e.unshift(qa(qa({},n),{},{value:"data-table-select"})):e.splice(r,1,qa(qa({},n),e[r]))}if(this.showExpand){var o=e.findIndex((function(t){return"data-table-expand"===t.value}));o<0?e.unshift(qa(qa({},n),{},{value:"data-table-expand"})):e.splice(o,1,qa(qa({},n),e[o]))}return e},colspanAttrs:function(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters:function(){return this.computedHeaders.reduce((function(t,header){return header.sort&&(t[header.value]=header.sort),t}),{})},headersWithCustomFilters:function(){return this.headers.filter((function(header){return header.filter&&(!header.hasOwnProperty("filterable")||!0===header.filterable)}))},headersWithoutCustomFilters:function(){return this.headers.filter((function(header){return!(header.filter||header.hasOwnProperty("filterable")&&!0!==header.filterable)}))},sanitizedHeaderProps:function(){return Object(sa.d)(this.headerProps)},computedItemsPerPage:function(){var t=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,e=this.sanitizedFooterProps.itemsPerPageOptions;if(e&&!e.find((function(e){return"number"==typeof e?e===t:e.value===t}))){var n=e[0];return"object"===Object(h.a)(n)?n.value:n}return t}},created:function(){var t=this;[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]].forEach((function(e){var n=Object(aa.a)(e,2),r=n[0],o=n[1];t.$attrs.hasOwnProperty(r)&&Object(ya.a)(r,o,t)}))},mounted:function(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy:function(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths:function(){this.widths=Array.from(this.$el.querySelectorAll("th")).map((function(t){return t.clientWidth}))},customFilterWithColumns:function(t,e){return function(t,e,n,r,o){return e="string"==typeof e?e.trim():null,t.filter((function(t){var l=n.every(Va(t,e,sa.k)),c=!e||r.some(Va(t,e,o));return l&&c}))}(t,e,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders:function(t,e,n,r){return this.customSort(t,e,n,r,this.columnSorters)},createItemProps:function(t){var e=xa.options.methods.createItemProps.call(this,t);return Object.assign(e,{headers:this.computedHeaders})},genCaption:function(t){return this.caption?[this.$createElement("caption",[this.caption])]:Object(sa.s)(this,"caption",t,!0)},genColgroup:function(t){var e=this;return this.$createElement("colgroup",this.computedHeaders.map((function(header){return e.$createElement("col",{class:{divider:header.divider}})})))},genLoading:function(){var th=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[this.genProgress()]),tr=this.$createElement("tr",{staticClass:"v-data-table__progress"},[th]);return this.$createElement("thead",[tr])},genHeaders:function(t){var data={props:qa(qa({},this.sanitizedHeaderProps),{},{headers:this.computedHeaders,options:t.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort}),on:{sort:t.sort,group:t.group,"toggle-select-all":this.toggleSelectAll}},e=[Object(sa.s)(this,"header",data)];if(!this.hideDefaultHeader){var n=Object(sa.q)("header.",this.$scopedSlots);e.push(this.$createElement(Aa,qa(qa({},data),{},{scopedSlots:n})))}return this.loading&&e.push(this.genLoading()),e},genEmptyWrapper:function(content){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},content)])},genItems:function(t,e){var n=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return n?[n]:e.groupedItems?this.genGroupedRows(e.groupedItems,e):this.genRows(t,e)},genGroupedRows:function(t,e){var n=this;return t.map((function(t){return n.openCache.hasOwnProperty(t.name)||n.$set(n.openCache,t.name,!0),n.$scopedSlots.group?n.$scopedSlots.group({group:t.name,options:e.options,items:t.items,headers:n.computedHeaders}):n.genDefaultGroupedRow(t.name,t.items,e)}))},genDefaultGroupedRow:function(t,e,n){var r=this,o=!!this.openCache[t],l=[this.$createElement("template",{slot:"row.content"},this.genRows(e,n))],c=function(){return r.$set(r.openCache,t,!r.openCache[t])},d=function(){return n.updateOptions({groupBy:[],groupDesc:[]})};if(this.$scopedSlots["group.header"])l.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:t,groupBy:n.options.groupBy,items:e,headers:this.computedHeaders,isOpen:o,toggle:c,remove:d})]));else{var h=this.$createElement(ha.a,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:c}},[this.$createElement(da.a,[o?"$minus":"$plus"])]),f=this.$createElement(ha.a,{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:d}},[this.$createElement(da.a,["$close"])]),v=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[h,"".concat(n.options.groupBy[0],": ").concat(t),f]);l.unshift(this.$createElement("template",{slot:"column.header"},[v]))}return this.$scopedSlots["group.summary"]&&l.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:t,groupBy:n.options.groupBy,items:e,headers:this.computedHeaders,isOpen:o,toggle:c})])),this.$createElement(Ta,{key:t,props:{value:o}},l)},genRows:function(t,e){return this.$scopedSlots.item?this.genScopedRows(t,e):this.genDefaultRows(t,e)},genScopedRows:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];n.push(this.$scopedSlots.item(qa(qa({},this.createItemProps(r)),{},{index:i}))),this.isExpanded(r)&&n.push(this.$scopedSlots["expanded-item"]({item:r,headers:this.computedHeaders}))}return n},genDefaultRows:function(t,e){var n=this;return this.$scopedSlots["expanded-item"]?t.map((function(t){return n.genDefaultExpandedRow(t)})):t.map((function(t){return n.genDefaultSimpleRow(t)}))},genDefaultExpandedRow:function(t){var e=this.isExpanded(t),n={"v-data-table__expanded v-data-table__expanded__row":e},r=this.genDefaultSimpleRow(t,n),o=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({item:t,headers:this.computedHeaders})]);return this.$createElement(Ta,{props:{value:e}},[this.$createElement("template",{slot:"row.header"},[r]),this.$createElement("template",{slot:"row.content"},[o])])},genDefaultSimpleRow:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(sa.q)("item.",this.$scopedSlots),data=this.createItemProps(t);if(this.showSelect){var slot=r["data-table-select"];r["data-table-select"]=slot?function(){return slot(data)}:function(){return e.$createElement(Oa.a,{staticClass:"v-data-table__checkbox",props:{value:data.isSelected,disabled:!e.isSelectable(t)},on:{input:function(t){return data.select(t)}}})}}if(this.showExpand){var o=r["data-table-expand"];r["data-table-expand"]=o?function(){return o(data)}:function(){return e.$createElement(da.a,{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":data.isExpanded},on:{click:function(t){t.stopPropagation(),data.expand(!data.isExpanded)}}},[e.expandIcon])}}return this.$createElement(this.isMobile?Na:Ca,{key:Object(sa.p)(t,this.itemKey),class:Object(Ia.b)(qa(qa({},n),{},{"v-data-table__selected":data.isSelected}),Object(sa.r)(t,this.itemClass)),props:{headers:this.computedHeaders,hideDefaultHeader:this.hideDefaultHeader,item:t,rtl:this.$vuetify.rtl},scopedSlots:r,on:{click:function(){return e.$emit("click:row",t,data)},contextmenu:function(t){return e.$emit("contextmenu:row",t,data)},dblclick:function(t){return e.$emit("dblclick:row",t,data)}}})},genBody:function(t){var data=qa(qa({},t),{},{expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select});return this.$scopedSlots.body?this.$scopedSlots.body(data):this.$createElement("tbody",[Object(sa.s)(this,"body.prepend",data,!0),this.genItems(t.items,t),Object(sa.s)(this,"body.append",data,!0)])},genFooters:function(t){var data={props:qa({options:t.options,pagination:t.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText"},this.sanitizedFooterProps),on:{"update:options":function(e){return t.updateOptions(e)}},widths:this.widths,headers:this.computedHeaders},e=[Object(sa.s)(this,"footer",data,!0)];return this.hideDefaultFooter||e.push(this.$createElement(fa,qa(qa({},data),{},{scopedSlots:Object(sa.q)("footer.",this.$scopedSlots)}))),e},genDefaultScopedSlot:function(t){var e={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(Ra,{props:e},[this.proxySlot("top",Object(sa.s)(this,"top",t,!0)),this.genCaption(t),this.genColgroup(t),this.genHeaders(t),this.genBody(t),this.proxySlot("bottom",this.genFooters(t))])},proxySlot:function(slot,content){return this.$createElement("template",{slot:slot},content)}},render:function(){var t=this;return this.$createElement(ca,{props:qa(qa({},this.$props),{},{customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage}),on:{"update:options":function(e,n){t.internalGroupBy=e.groupBy||[],!Object(sa.j)(e,n)&&t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(sa.j)(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)},"page-count":function(e){return t.$emit("page-count",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),Ua=n(603),Ha=n(337),za=n(604),Ga=n(605),Ya=n(606),Xa=n(607),Ja=n(335),Za=n(602),Qa=n(356),ti=n(524),component=Object(Jr.a)(Xr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",[n("h1",[t._v(t._s(t.$t("card.edit.storage")))]),t._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:t.$t("card.edit.customFileName")},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{dark:"","x-large":"",width:"100%",disabled:!t.currentKrosmasterId,loading:t.isSaving},on:{click:t.onSave}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-import")]),t._v("\n        "+t._s(t.$t("common.save"))+"\n      ")],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{dark:"","x-large":"",width:"100%",loading:t.isLoading},on:{click:t.onLoad}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-export")]),t._v("\n        "+t._s(t.$t("common.load"))+"\n      ")],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-btn",{attrs:{dark:"","x-large":"",width:"100%",loading:t.isExporting},on:{click:t.onExport}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-download")]),t._v("\n        "+t._s(t.$t("common.export"))+"\n      ")],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"application/json"},on:{change:t.onImportFile}}),t._v(" "),n("v-btn",{attrs:{dark:"","x-large":"",width:"100%"},on:{click:t.onImport}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-upload")]),t._v("\n        "+t._s(t.$t("common.import"))+"\n      ")],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1),t._v(" "),n("v-col",{attrs:{cols:"6",offset:"3"}},[n("v-btn",{attrs:{dark:"","x-large":"",width:"100%"},on:{click:t.onReset}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-refresh")]),t._v("\n        "+t._s(t.$t("common.reset"))+"\n      ")],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"400"},model:{value:t.overrideDialog,callback:function(e){t.overrideDialog=e},expression:"overrideDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("common.warning")))]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.overridePrompt1"))+"\n        "),n("strong",[t._v(t._s(t.currentKrosmasterId))]),t._v("\n        "+t._s(t.$t("card.edit.overridePrompt2"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:t.cancelSaving}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"warning"},on:{click:t.saveKrosmaster}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-file-replace")]),t._v("\n          "+t._s(t.$t("common.override"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.noDataDialog,callback:function(e){t.noDataDialog=e},expression:"noDataDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("card.edit.noDataHeader"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.noDataPrompt"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"warning"},on:{click:function(e){t.noDataDialog=!1}}},[t._v("\n          "+t._s(t.$t("common.ok"))+"\n        ")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"600"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("card.edit.loadKrosmaster"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.loadingPrompt"))+"\n      ")]),t._v(" "),n("v-card",[n("v-card-title",[t._v("\n          "+t._s(t.$t("card.edit.krosmasters"))+"\n          "),n("v-spacer"),t._v(" "),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("common.search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("v-data-table",{attrs:{headers:t.loadingHeaders,items:t.krosmasterNames,search:t.search,"items-per-page":5,height:216,"no-data-text":t.$t("common.emptyTablePrompt"),"no-results-text":t.$t("common.emptyTablePrompt"),"footer-props":{itemsPerPageText:"",itemsPerPageOptions:[5,10,15,20]},dense:""},scopedSlots:t._u([{key:"item.name",fn:function(e){var r=e.item;return[n("div",{staticClass:"name-column"},[t._v("\n              "+t._s(r.name)+"\n            ")])]}},{key:"item.delete",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){return t.onDelete(r.name)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1)]}},{key:"item.load",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{text:"",color:"success"},on:{click:function(e){return t.loadKrosmaster(r.name)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-database-import")])],1)]}},{key:"item.export",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{text:"",color:"info"},on:{click:function(e){return t.exportKrosmaster(r.name)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-download-circle")])],1)]}},{key:"footer.page-text",fn:function(e){var n=e.pageStart,r=e.pageStop,o=e.itemsLength;return[t._v("\n            "+t._s(n)+"-"+t._s(r)+" "+t._s(t.$t("common.of"))+"\n            "+t._s(o)+"\n          ")]}}],null,!0)})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:t.cancelLoading}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("common.warning"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.deletePrompt",{item:t.krosmasterToDelete}))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteDialog=!1}}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"error"},on:{click:t.deleteKrosmaster}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-delete")]),t._v("\n          "+t._s(t.$t("common.delete"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.importWarningDialog,callback:function(e){t.importWarningDialog=e},expression:"importWarningDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("common.warning"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.importOverridePrompt"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.importWarningDialog=!1}}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"error"},on:{click:t.acceptImportOverride}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-upload")]),t._v("\n          "+t._s(t.$t("common.discard"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"success"},on:{click:t.acceptImportSaveAndOverride}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-import")]),t._v("\n          "+t._s(t.$t("card.edit.saveFirst"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.loadWarningDialog,callback:function(e){t.loadWarningDialog=e},expression:"loadWarningDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("common.warning"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.loadOverridePrompt"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.loadWarningDialog=!1}}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"error"},on:{click:t.acceptLoadOverride}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-export")]),t._v("\n          "+t._s(t.$t("common.discard"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"success"},on:{click:t.acceptLoadSaveAndOverride}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-import")]),t._v("\n          "+t._s(t.$t("card.edit.saveFirst"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:t.validationErrorDialog,callback:function(e){t.validationErrorDialog=e},expression:"validationErrorDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("card.edit.importErrorHeader"))+"\n      ")]),t._v(" "),t.validationErrorMessage?n("v-card-text",[t._v("\n        "+t._s(t.$t(t.validationErrorMessage))+"\n      ")]):t._e(),t._v(" "),t.validationErrors&&t.validationErrors.length?n("v-expansion-panels",{attrs:{dark:"",flat:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[t._v("\n            "+t._s(t.$t("card.edit.validationErrorMessages"))+"\n          ")]),t._v(" "),n("v-expansion-panel-content",[n("v-card-text",{staticClass:"ma-0 pa-0 validation-error-messages-panel"},[n("ul",t._l(t.validationErrors,(function(e,i){return n("li",{key:i},[t._v("\n                  "+t._s(e.message)+"\n                ")])})),0)])],1)],1)],1):t._e(),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.validationErrorDialog=!1}}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.close"))+"\n        ")],1)],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.resetWarningDialog,callback:function(e){t.resetWarningDialog=e},expression:"resetWarningDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        "+t._s(t.$t("common.warning"))+"\n      ")]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("card.edit.resetOverridePrompt"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.resetWarningDialog=!1}}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("\n          "+t._s(t.$t("common.cancel"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"error"},on:{click:t.resetCard}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-refresh")]),t._v("\n          "+t._s(t.$t("common.discard"))+"\n        ")],1),t._v(" "),n("v-btn",{attrs:{text:"",color:"success"},on:{click:t.acceptSaveAndReset}},[n("v-icon",{attrs:{dark:"",left:""}},[t._v("mdi-database-import")]),t._v("\n          "+t._s(t.$t("card.edit.saveFirst"))+"\n        ")],1)],1)],1)],1)],1)}),[],!1,null,"68875f9b",null);e.default=component.exports;Qr()(component,{VBtn:ta.a,VCard:ea.a,VCardActions:na.a,VCardText:na.b,VCardTitle:na.c,VCol:ra.a,VDataTable:Wa,VDialog:Ua.a,VDivider:Ha.a,VExpansionPanel:za.a,VExpansionPanelContent:Ga.a,VExpansionPanelHeader:Ya.a,VExpansionPanels:Xa.a,VIcon:Ja.a,VRow:Za.a,VSpacer:Qa.a,VTextField:ti.a})}}]);